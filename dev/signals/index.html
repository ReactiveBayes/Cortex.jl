<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Signals: The Core of Reactivity · Cortex.jl</title><meta name="title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta property="og:title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta property="twitter:title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta name="description" content="Documentation for Cortex.jl."/><meta property="og:description" content="Documentation for Cortex.jl."/><meta property="twitter:description" content="Documentation for Cortex.jl."/><meta property="og:url" content="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><meta property="twitter:url" content="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><link rel="canonical" href="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Cortex.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Signals: The Core of Reactivity</a><ul class="internal"><li><a class="tocitem" href="#Concept"><span>Concept</span></a></li><li><a class="tocitem" href="#Key-Features"><span>Key Features</span></a></li><li><a class="tocitem" href="#Core-Operations"><span>Core Operations</span></a></li><li><a class="tocitem" href="#signal-adding-dependencies"><span>Adding Dependencies</span></a></li><li><a class="tocitem" href="#signal-types-of-dependencies"><span>Types of Dependencies</span></a></li><li><a class="tocitem" href="#signal-computing-values"><span>Computing Signal Values</span></a></li><li><a class="tocitem" href="#Processing/Traversal-of-Dependencies"><span>Processing/Traversal of Dependencies</span></a></li><li><a class="tocitem" href="#signals-visualization"><span>Signal Visualization</span></a></li><li><a class="tocitem" href="#Internal-Mechanics-(For-Developers)"><span>Internal Mechanics (For Developers)</span></a></li></ul></li><li><a class="tocitem" href="../model_engine/">Model Engine: The Foundation</a></li><li><a class="tocitem" href="../inference_engine/">Inference Engine: The Brain</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Signals: The Core of Reactivity</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Signals: The Core of Reactivity</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Cortex.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Cortex.jl/blob/main/docs/src/signals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="signals"><a class="docs-heading-anchor" href="#signals">Signals: The Core of Reactivity</a><a id="signals-1"></a><a class="docs-heading-anchor-permalink" href="#signals" title="Permalink"></a></h1><p>At the heart of Cortex.jl&#39;s reactivity system lies the <a href="#Cortex.Signal"><code>Signal</code></a>. Signals are being used extensively in the <a href="../inference_engine/#inference">inference</a> to track the necessary or stale computations.</p><h2 id="Concept"><a class="docs-heading-anchor" href="#Concept">Concept</a><a id="Concept-1"></a><a class="docs-heading-anchor-permalink" href="#Concept" title="Permalink"></a></h2><p>Think of a <a href="#Cortex.Signal"><code>Signal</code></a> as a container for a value that can change over time. When this change will happen is not known beforehand. The key idea is that other parts of your system can <em>depend</em> on a signal. When the signal&#39;s value changes, anything that depends on it (its <em>listeners</em>) is notified, allowing the system to react on changes and recompute values.</p><p>An every day example would be a spreadsheet cell. When you change the value in one cell (like <code>A1</code>), other cells that use <code>A1</code> in their formulas (like <code>B1 = A1 * 2</code>) automatically update. A <a href="#Cortex.Signal"><code>Signal</code></a> is like that cell – it holds a value, and changes can trigger updates elsewhere.</p><p>More technically, <a href="#Cortex.Signal"><code>Signal</code></a>s form a directed graph (potentially cyclic). Each <a href="#Cortex.Signal"><code>Signal</code></a> node stores a value, an optional <code>variant</code>, and maintains lists of its dependencies and listeners. When a signal is updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> or <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, it propagates a notification to its direct listeners, potentially marking them as &#39;pending&#39;. This <a href="#signal-pending-state">&#39;pending&#39; state</a> indicates that the signal&#39;s value might be stale and needs recomputation. The actual recomputation logic is defined externally via the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. A signal may become &#39;pending&#39; if all its dependencies meet the criteria: weak dependencies are computed, and strong dependencies are computed and <strong>fresh</strong> (i.e., have new, unused values). This also means that a signal never recomputes its own value, as it must be done externally.</p><h2 id="Key-Features"><a class="docs-heading-anchor" href="#Key-Features">Key Features</a><a id="Key-Features-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Features" title="Permalink"></a></h2><ul><li><strong>Value Storage:</strong> Holds the current value (or <code>UndefValue()</code> if the value is not set).</li><li><strong>Variant:</strong> Can store an arbitrary variant (<a href="#Cortex.get_variant-Tuple{Cortex.Signal}"><code>get_variant</code></a>), defaulting to <code>UndefVariant()</code>. Variants can be used to choose different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function and provide type-safe signal classification.</li><li><strong>Dependency Tracking:</strong> Knows which other signals it depends on (see <a href="#Cortex.get_dependencies-Tuple{Cortex.Signal}"><code>get_dependencies</code></a>) and which signals depend on it (see  <a href="#Cortex.get_listeners-Tuple{Cortex.Signal}"><code>get_listeners</code></a>).</li><li><strong>Notification:</strong> When updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, it notifies its active listeners.</li><li><strong>Pending State:</strong> Can be marked as <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> if its dependencies have updated appropriately, signaling a need for recomputation via <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>. Read more about the pending state in the <a href="#signal-pending-state">Pending State</a> section.</li><li><strong>External Computation:</strong> Relies on the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function and a provided strategy to update its value based on dependencies.</li><li><strong>Traversal of Dependencies:</strong> The <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> function can be used to traverse the dependency graph and apply a custom logic to the dependencies.</li><li><strong>Weak Dependencies:</strong> Supports &#39;weak&#39; dependencies, which influence the pending state based only on whether they are computed (<a href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>is_computed</code></a>), not their &#39;fresh&#39; status in the same way as strong dependencies. See <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a> for more details.</li><li><strong>Controlled Listening:</strong> Allows dependencies to be added without automatically listening to their updates (<code>listen=false</code> in <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>).</li><li><strong>GraphViz Support:</strong> Signals can be visualized using the <code>GraphViz.jl</code> package. Cortex automatically loads the visualization extension when <code>GraphViz.jl</code> package is loaded in the current Julia session. Read more about it in the <a href="#signals-visualization">Visualization</a> section.</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.Signal" href="#Cortex.Signal"><code>Cortex.Signal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Signal()
Signal(value; variant::Any = UndefVariant())
Signal(::Type{D}, ::Type{V}, value::D, variant::V) where {D, V}</code></pre><p>A reactive signal that holds a value and tracks dependencies as well as notifies listeners when the value changes. If created without an initial value, the signal is initialized with <a href="#Cortex.UndefValue"><code>UndefValue()</code></a>. The <code>variant</code> field can be used to store arbitrary variant information about the signal. Default value is <a href="#Cortex.UndefVariant"><code>UndefVariant()</code></a>.</p><p>A signal has two type parameters:</p><ul><li><code>D</code> is the type of the value, which can be stored in the signal</li><li><code>V</code> is the type of the variant of the signal</li></ul><p>Note, that the signal can have dependencies and listeners only on signals that have the same type parameters.</p><p>A signal is said to be &#39;pending&#39; if it is ready for potential recomputation (due to updated dependencies). However, a signal is not recomputed immediately when it becomes pending. Moreover, a Signal does not know  how to recompute itself. The recomputation logic is defined separately with the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</p><p>Signals form a directed graph where edges represent dependencies. When a signal&#39;s value is updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, it notifies its active listeners.</p><p>A signal may become &#39;pending&#39; if all its dependencies meet the following criteria:</p><ul><li>all its weak dependencies have computed values, AND</li><li>all its strong dependencies have computed values and are older than the listener.</li></ul><p>A signal can depend on another signal without listening to it, see <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a> for more details.</p><p>See also: <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>, <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L53-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.UndefValue" href="#Cortex.UndefValue"><code>Cortex.UndefValue</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UndefValue</code></pre><p>A singleton type used to represent an undefined or uninitialized state within a <a href="#Cortex.Signal"><code>Signal</code></a>. This indicates that the signal has not yet been computed or has been invalidated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.UndefVariant" href="#Cortex.UndefVariant"><code>Cortex.UndefVariant</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UndefVariant</code></pre><p>A singleton type used to represent an undefined or uninitialized variant within a <a href="#Cortex.Signal"><code>Signal</code></a>. This indicates that the signal has no variant defined.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L9-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.value_type" href="#Cortex.value_type"><code>Cortex.value_type</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">value_type(::Signal{D}) where {D}</code></pre><p>Get the type of specified in the signal&#39;s type parameter <code>D</code>. Note, that this is not the same as the type of the value stored in the signal. For example, the <code>value_type</code> of a signal with type parameter <code>Any</code> is <code>Any</code>, but the value of the signal can be <code>Int</code>. The <code>value_type</code> indicates all possible types of the value that can be stored in the signal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L117-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.variant_type" href="#Cortex.variant_type"><code>Cortex.variant_type</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">variant_type(::Signal{D, V}) where {D, V}</code></pre><p>Get the type of specified in the signal&#39;s type parameter <code>V</code>. Note, that this is not the same as the type of the variant stored in the signal. For example, the <code>variant_type</code> of a signal with type parameter <code>Any</code> is <code>Any</code>, but the variant of the signal can be <code>Int</code>. The <code>variant_type</code> indicates all possible types of the variant that can be stored in the signal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L126-L132">source</a></section></article><h2 id="Core-Operations"><a class="docs-heading-anchor" href="#Core-Operations">Core Operations</a><a id="Core-Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Operations" title="Permalink"></a></h2><div class="admonition is-info" id="Note-b2b30835e9cb2dd0"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-b2b30835e9cb2dd0" title="Permalink"></a></header><div class="admonition-body"><p>Before we proceed, we load the package itslef and we also load the <code>GraphViz.jl</code> package in order to enable the visualization extension.</p><pre><code class="language-julia hljs">using GraphViz # Enable the visualization extension</code></pre><p>To get the SVG representation of the signal graph, we can use the <code>GraphViz.load</code> function.</p></div></div><p>Here are some basic examples demonstrating how to use signals.</p><h3 id="Creating-Signals-and-Checking-Properties"><a class="docs-heading-anchor" href="#Creating-Signals-and-Checking-Properties">Creating Signals and Checking Properties</a><a id="Creating-Signals-and-Checking-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Signals-and-Checking-Properties" title="Permalink"></a></h3><p>Signal can be created using the <code>Cortex.Signal</code> constructor</p><pre><code class="language-julia hljs">a_signal_with_no_value = Cortex.Signal()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=#undef, pending=false)</code></pre><p>By default, the signal has no value. We can check this by calling the <a href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_value(a_signal_with_no_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Cortex.UndefValue()</code></pre><p>We can also create a signal with an initial value.</p><pre><code class="language-julia hljs">a_signal_with_value = Cortex.Signal(10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=10, pending=false)</code></pre><p>We can check the value of the signal by calling the <a href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_value(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10</code></pre><p>Additionally, we can check if the signal is computed with the <a href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>Cortex.is_computed</code></a> function.</p><pre><code class="language-julia hljs">Cortex.is_computed(a_signal_with_no_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">Cortex.is_computed(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>Signals themselves do not know how to compute their value. This is done externally via the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. However, in order to update the value of a signal, we need to know if the signal is pending. If signal is pending, it means that it needs to be recomputed. On the contrary, if the signal is not pending, it means that the value is up to date and we can use the value without recomputing it. Normally, the signal becomes pending automatically when <a href="#signal-adding-dependencies">its dependencies</a> are updated.</p><p>We can check if a signal is pending with the <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>Cortex.is_pending</code></a> function.</p><pre><code class="language-julia hljs">Cortex.is_pending(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>Since our signals does not have any dependencies, it is not pending. We will talk more about the dependencies and the <a href="#signal-pending-state">pending state</a> in the <a href="#signal-adding-dependencies">Adding Dependencies</a> section.</p><p>We can manually update a signal&#39;s value with <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>. The <code>set_value!</code> function doesn&#39;t check if the signal is pending or not. It only updates the value of the signal. Read the <a href="#signal-computing-values">Updating Signal Values</a> section for a more structured way to update a signal&#39;s value.</p><pre><code class="language-julia hljs">some_signal  = Cortex.Signal()
Cortex.get_value(some_signal)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Cortex.UndefValue()</code></pre><pre><code class="language-julia hljs">Cortex.set_value!(some_signal, 99.0)</code></pre><pre><code class="language-julia hljs">Cortex.get_value(some_signal)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">99.0</code></pre><div class="admonition is-warning" id="Warning-3b0d3e857cb3ae4d"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-3b0d3e857cb3ae4d" title="Permalink"></a></header><div class="admonition-body"><p><strong>Important:</strong> Normally, it is implied that <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> must be called only on signals that are pending. Also see the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function for a more general way to update signal values.</p></div></div><h4 id="Signal-Variant"><a class="docs-heading-anchor" href="#Signal-Variant">Signal Variant</a><a id="Signal-Variant-1"></a><a class="docs-heading-anchor-permalink" href="#Signal-Variant" title="Permalink"></a></h4><p>You can optionally specify a <code>variant</code>. Specifying a variant is useful when you want to choose different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</p><pre><code class="language-julia hljs"># Signal with variant
signal_with_variant = Cortex.Signal(10, variant=Dict(:info =&gt; &quot;flag&quot;, :some_value =&gt; 10))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=10, pending=false, variant=Dict{Symbol, Any}(:some_value =&gt; 10, :info =&gt; &quot;flag&quot;))</code></pre><p>The variant can be accessed with the <a href="#Cortex.get_variant-Tuple{Cortex.Signal}"><code>Cortex.get_variant</code></a> function and modified with the <a href="#Cortex.set_variant!-Tuple{Cortex.Signal, Any}"><code>Cortex.set_variant!</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_variant(signal_with_variant)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Any} with 2 entries:
  :some_value =&gt; 10
  :info       =&gt; &quot;flag&quot;</code></pre><pre><code class="language-julia hljs">Cortex.set_variant!(signal_with_variant, &quot;hello world!&quot;)
Cortex.get_variant(signal_with_variant)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;hello world!&quot;</code></pre><p>The variant can be any object, including complex algebraic data types for type-safe signal classification.</p><pre><code class="language-julia hljs">signal_with_simple_variant = Cortex.Signal(variant=&quot;simple_string_variant&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=#undef, pending=false, variant=&quot;simple_string_variant&quot;)</code></pre><h4 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_value-Tuple{Cortex.Signal}" href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_value(s::Signal)</code></pre><p>Get the current value of the signal <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_variant-Tuple{Cortex.Signal}" href="#Cortex.get_variant-Tuple{Cortex.Signal}"><code>Cortex.get_variant</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_variant(s::Signal)</code></pre><p>Get the variant of the signal <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L175-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.set_variant!-Tuple{Cortex.Signal, Any}" href="#Cortex.set_variant!-Tuple{Cortex.Signal, Any}"><code>Cortex.set_variant!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_variant!(s::Signal, variant)</code></pre><p>Set the variant of the signal <code>s</code> to the given <code>variant</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L184-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.isa_variant" href="#Cortex.isa_variant"><code>Cortex.isa_variant</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isa_variant(s::Signal, T)</code></pre><p>Check if the currently set variant of the signal <code>s</code> is of type <code>T</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L194-L198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.is_computed-Tuple{Cortex.Signal}" href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>Cortex.is_computed</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_computed(s::Signal) -&gt; Bool</code></pre><p>Check if the signal <code>s</code> has been computed (i.e., its value is not equal to <a href="#Cortex.UndefValue"><code>UndefValue()</code></a>). See also: <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L156-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.is_pending-Tuple{Cortex.Signal}" href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>Cortex.is_pending</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_pending(s::Signal) -&gt; Bool</code></pre><p>Check if the signal <code>s</code> is marked as pending. This usually indicates that the signal&#39;s value is stale and needs recomputation. See also: <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L135-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.set_value!-Tuple{Cortex.Signal, Any}" href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>Cortex.set_value!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_value!(s::Signal, value)</code></pre><p>Set the <code>value</code> of the signal <code>s</code>. Notifies all the active listeners of the signal.</p><div class="admonition is-info" id="Note-ed8bcad28e9d71ee"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-ed8bcad28e9d71ee" title="Permalink"></a></header><div class="admonition-body"><p>This function is not a part of the public API.  Additionally, it is implied that <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> must be called only on signals that are pending. Use <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> for a more general way to update signal values.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L221-L231">source</a></section></article><h2 id="signal-adding-dependencies"><a class="docs-heading-anchor" href="#signal-adding-dependencies">Adding Dependencies</a><a id="signal-adding-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-adding-dependencies" title="Permalink"></a></h2><p>Signals can depend on other signals. This is particularly useful when you want to compute a signal&#39;s value based on the values of other signals. To add a new dependency, use <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>. This populates the <code>dependencies</code> list of the dependent signal and the <code>listeners</code> list of the dependency.</p><pre><code class="language-julia hljs">source_1 = Cortex.Signal(1)
source_2 = Cortex.Signal(2)

derived = Cortex.Signal() # A signal that will depend on source_1 and source_2

Cortex.add_dependency!(derived, source_1)
Cortex.add_dependency!(derived, source_2)</code></pre><pre><code class="language-julia hljs">length(Cortex.get_dependencies(derived)) # 2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><pre><code class="language-julia hljs">length(Cortex.get_listeners(source_1))           # 1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><pre><code class="language-julia hljs">length(Cortex.get_listeners(source_2))           # 1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><p>Here we can also use the <code>GraphViz.jl</code> package to visualize the dependency graph.</p><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="439pt" height="249pt"
 viewBox="0.00 0.00 439.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 435,-245 435,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="222,-241 0,-241 0,-95 222,-95 222,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 222,-241 222,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 222,-216 222,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 222,-168 222,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 222,-120 222,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-214 258,-214 258,-116 431,-116 431,-214"/>
<polygon fill="none" stroke="black" points="258.5,-189 258.5,-214 431.5,-214 431.5,-189 258.5,-189"/>
<text text-anchor="start" x="263.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258.5,-141 258.5,-189 431.5,-189 431.5,-141 258.5,-141"/>
<text text-anchor="start" x="265.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="265.5" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,-116 258.5,-141 431.5,-141 431.5,-116 258.5,-116"/>
<text text-anchor="start" x="263.5" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M258,-202C234.06,-202 242.27,-166.47 227.88,-155.92"/>
<polygon fill="%231874cd" stroke="%231874cd" points="228.58,-152.48 218,-153 226.6,-159.19 228.58,-152.48"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-98 258,-98 258,0 431,0 431,-98"/>
<polygon fill="none" stroke="black" points="258.5,-73 258.5,-98 431.5,-98 431.5,-73 258.5,-73"/>
<text text-anchor="start" x="263.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258.5,-25 258.5,-73 431.5,-73 431.5,-25 258.5,-25"/>
<text text-anchor="start" x="265.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="265.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,0 258.5,-25 431.5,-25 431.5,0 258.5,0"/>
<text text-anchor="start" x="263.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M258,-86C234.35,-86 242.11,-120.81 227.79,-131.14"/>
<polygon fill="%231874cd" stroke="%231874cd" points="226.62,-127.84 218,-134 228.58,-134.56 226.62,-127.84"/>
</g>
</g>
</svg>
'/><p>By default, the visualization uses different colors and styles to distinguish between different types of dependencies as well as their pending states. Read more about it in the <a href="#signals-visualization">Visualization</a> section.</p><h3 id="signal-pending-state"><a class="docs-heading-anchor" href="#signal-pending-state">Pending State</a><a id="signal-pending-state-1"></a><a class="docs-heading-anchor-permalink" href="#signal-pending-state" title="Permalink"></a></h3><p>A signal becomes pending (<a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> returns <code>true</code>) when its dependencies are updated in a way that satisfies the pending criteria (all <a href="#signal-strong-vs-weak-dependencies">weak dependencies</a> are computed, and all <a href="#signal-strong-vs-weak-dependencies">strong dependencies</a> are <strong>fresh</strong> and computed). Adding a computed dependency can also immediately mark a signal as pending.</p><p>Updating a dependency can mark listeners as pending:</p><pre><code class="language-julia hljs">source_1 = Cortex.Signal(1)
source_2 = Cortex.Signal(2)

derived = Cortex.Signal() # A signal that will depend on s1 and s2

Cortex.add_dependency!(derived, source_1)
Cortex.add_dependency!(derived, source_2)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="439pt" height="249pt"
 viewBox="0.00 0.00 439.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 435,-245 435,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="222,-241 0,-241 0,-95 222,-95 222,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 222,-241 222,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 222,-216 222,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 222,-168 222,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 222,-120 222,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-214 258,-214 258,-116 431,-116 431,-214"/>
<polygon fill="none" stroke="black" points="258.5,-189 258.5,-214 431.5,-214 431.5,-189 258.5,-189"/>
<text text-anchor="start" x="263.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258.5,-141 258.5,-189 431.5,-189 431.5,-141 258.5,-141"/>
<text text-anchor="start" x="265.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="265.5" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,-116 258.5,-141 431.5,-141 431.5,-116 258.5,-116"/>
<text text-anchor="start" x="263.5" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M258,-202C234.06,-202 242.27,-166.47 227.88,-155.92"/>
<polygon fill="%231874cd" stroke="%231874cd" points="228.58,-152.48 218,-153 226.6,-159.19 228.58,-152.48"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-98 258,-98 258,0 431,0 431,-98"/>
<polygon fill="none" stroke="black" points="258.5,-73 258.5,-98 431.5,-98 431.5,-73 258.5,-73"/>
<text text-anchor="start" x="263.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258.5,-25 258.5,-73 431.5,-73 431.5,-25 258.5,-25"/>
<text text-anchor="start" x="265.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="265.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,0 258.5,-25 431.5,-25 431.5,0 258.5,0"/>
<text text-anchor="start" x="263.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M258,-86C234.35,-86 242.11,-120.81 227.79,-131.14"/>
<polygon fill="%231874cd" stroke="%231874cd" points="226.62,-127.84 218,-134 228.58,-134.56 226.62,-127.84"/>
</g>
</g>
</svg>
'/><p><code>derived</code> is pending because both <code>source_1</code> and <code>source_2</code> have been computed and are considered fresh with respect to <code>derived</code> at the time of dependency addition. Let&#39;s try a different example:</p><pre><code class="language-julia hljs">some_source = Cortex.Signal()
derived = Cortex.Signal()

Cortex.add_dependency!(derived, some_source)

Cortex.is_pending(derived) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="366pt" height="183pt"
 viewBox="0.00 0.00 366.00 182.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 178.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-178.5 362,-178.5 362,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="161,-174.5 0,-174.5 0,-47.5 161,-47.5 161,-174.5"/>
<polygon fill="none" stroke="black" points="0.5,-149 0.5,-174 161.5,-174 161.5,-149 0.5,-149"/>
<text text-anchor="start" x="5.5" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-101 0.5,-149 161.5,-149 161.5,-101 0.5,-101"/>
<text text-anchor="start" x="7.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7.5" y="-111.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,-72 0.5,-101 161.5,-101 161.5,-72 0.5,-72"/>
<text text-anchor="start" x="7.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0.5,-47 0.5,-72 161.5,-72 161.5,-47 0.5,-47"/>
<text text-anchor="start" x="5.5" y="-55.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="white" stroke="transparent" points="358,-98 197,-98 197,0 358,0 358,-98"/>
<polygon fill="none" stroke="black" points="197.5,-73 197.5,-98 358.5,-98 358.5,-73 197.5,-73"/>
<text text-anchor="start" x="202.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="283.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="287.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="197.5,-25 197.5,-73 358.5,-73 358.5,-25 197.5,-25"/>
<text text-anchor="start" x="204.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="204.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="197.5,0 197.5,-25 358.5,-25 358.5,0 197.5,0"/>
<text text-anchor="start" x="202.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M197,-86C183.42,-86 177.72,-86 167.71,-86"/>
<polygon fill="black" stroke="black" points="167.5,-82.5 157.5,-86 167.5,-89.5 167.5,-82.5"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs">Cortex.set_value!(some_source, 1)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="439pt" height="183pt"
 viewBox="0.00 0.00 439.00 182.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 178.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-178.5 435,-178.5 435,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="222,-174.5 0,-174.5 0,-47.5 222,-47.5 222,-174.5"/>
<polygon fill="none" stroke="black" points="0,-149 0,-174 222,-174 222,-149 0,-149"/>
<text text-anchor="start" x="5" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-101 0,-149 222,-149 222,-101 0,-101"/>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="154" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7" y="-111.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-72 0,-101 222,-101 222,-72 0,-72"/>
<text text-anchor="start" x="7" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0,-47 0,-72 222,-72 222,-47 0,-47"/>
<text text-anchor="start" x="5" y="-55.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-98 258,-98 258,0 431,0 431,-98"/>
<polygon fill="none" stroke="black" points="258.5,-73 258.5,-98 431.5,-98 431.5,-73 258.5,-73"/>
<text text-anchor="start" x="263.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258.5,-25 258.5,-73 431.5,-73 431.5,-25 258.5,-25"/>
<text text-anchor="start" x="265.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="265.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,0 258.5,-25 431.5,-25 431.5,0 258.5,0"/>
<text text-anchor="start" x="263.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M258,-86C244.11,-86 238.36,-86 228.03,-86"/>
<polygon fill="%231874cd" stroke="%231874cd" points="228,-82.5 218,-86 228,-89.5 228,-82.5"/>
</g>
</g>
</svg>
'/><p>After setting the value of <code>some_source</code>, <code>derived</code> becomes pending because <code>some_source</code> is now computed and fresh with respect to <code>derived</code>.</p><p>Here, we can compute a new value for the derived signal based on the new value of <code>some_source</code>:</p><pre><code class="language-julia hljs">Cortex.set_value!(derived, 2 * Cortex.get_value(some_source))</code></pre><pre><code class="language-julia hljs">Cortex.get_value(derived) # 2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="390pt" height="183pt"
 viewBox="0.00 0.00 390.00 182.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 178.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-178.5 386,-178.5 386,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="173,-174.5 0,-174.5 0,-47.5 173,-47.5 173,-174.5"/>
<polygon fill="none" stroke="black" points="0.5,-149 0.5,-174 173.5,-174 173.5,-149 0.5,-149"/>
<text text-anchor="start" x="5.5" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-158.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-101 0.5,-149 173.5,-149 173.5,-101 0.5,-101"/>
<text text-anchor="start" x="7.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="154.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="7.5" y="-111.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,-72 0.5,-101 173.5,-101 173.5,-72 0.5,-72"/>
<text text-anchor="start" x="7.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0.5,-47 0.5,-72 173.5,-72 173.5,-47 0.5,-47"/>
<text text-anchor="start" x="5.5" y="-55.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="382,-98 209,-98 209,0 382,0 382,-98"/>
<polygon fill="none" stroke="black" points="209.5,-73 209.5,-98 382.5,-98 382.5,-73 209.5,-73"/>
<text text-anchor="start" x="214.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="295.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="299.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="209.5,-25 209.5,-73 382.5,-73 382.5,-25 209.5,-25"/>
<text text-anchor="start" x="216.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="363.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="216.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="209.5,0 209.5,-25 382.5,-25 382.5,0 209.5,0"/>
<text text-anchor="start" x="214.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M209,-86C195.42,-86 189.72,-86 179.71,-86"/>
<polygon fill="black" stroke="black" points="179.5,-82.5 169.5,-86 179.5,-89.5 179.5,-82.5"/>
</g>
</g>
</svg>
'/><p>As we can see, the derived signal is no longer in the pending state after calling the <code>set_value!</code> function. It is implied that the <code>set_value!</code> function is only called on signals that are pending. See the <a href="#signal-computing-values">Computing Signal Values</a> section for a more structured way to compute a signal&#39;s value.</p><h3 id="API-Reference-2"><a class="docs-heading-anchor" href="#API-Reference-2">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}" href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>Cortex.add_dependency!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_dependency!(signal::Signal, dependency::Signal; weak::Bool = false, listen::Bool = true, intermediate::Bool = false, check_computed::Bool = true)</code></pre><p>Add <code>dependency</code> to the list of dependencies for signal <code>signal</code>. Also adds <code>signal</code> to the list of listeners for <code>dependency</code>.</p><p>Arguments:</p><ul><li><code>signal::Signal</code>: The signal to add a dependency to.</li><li><code>dependency::Signal</code>: The signal to be added as a dependency.</li></ul><p>Keyword Arguments:</p><ul><li><code>intermediate::Bool = false</code>: If <code>true</code>, marks the dependency as intermediate. Intermediate dependencies</li></ul><p>have an effect on the <code>process_dependencies!</code> function. See the documentation of <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> for more details. By default, the added dependency is not intermediate.</p><ul><li><code>weak::Bool = false</code>: If <code>true</code>, marks the dependency as weak. Weak dependencies only require <code>is_computed</code> to be true (not necessarily older) for the dependent signal <code>signal</code> to potentially become pending.</li><li><code>listen::Bool = true</code>: If <code>true</code>, <code>signal</code> will be notified when <code>dependency</code> is updated. If <code>false</code>, <code>dependency</code> is added, but <code>signal</code> will not automatically be notified of updates to <code>dependency</code>.</li><li><code>check_computed::Bool = true</code>: If <code>true</code>, the function will check if <code>dependency</code> is already computed.</li></ul><p>If so, it will notify <code>signal</code> immediately. Note that if <code>listen</code> is set to false,  further updates to <code>dependency</code> will not trigger notifications to <code>signal</code>.</p><p>The same dependency should not be added multiple times. Doing so will result in wrong notification behaviour and likely will lead to incorrect results. Note that this function does nothing if <code>signal === dependency</code>.</p><div class="admonition is-info" id="Note-573b4eeb827ffedb"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-573b4eeb827ffedb" title="Permalink"></a></header><div class="admonition-body"><p>Signals can only depend on other signals with the same type parameters <code>{D, V}</code>. Attempting to add a dependency  with different type parameters will result in an error.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L255-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_dependencies-Tuple{Cortex.Signal}" href="#Cortex.get_dependencies-Tuple{Cortex.Signal}"><code>Cortex.get_dependencies</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_dependencies(s::Signal)</code></pre><p>Get the list of signals that the signal <code>s</code> depends on.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L203-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_listeners-Tuple{Cortex.Signal}" href="#Cortex.get_listeners-Tuple{Cortex.Signal}"><code>Cortex.get_listeners</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_listeners(s::Signal)</code></pre><p>Get the list of signals that listen to the signal <code>s</code> (i.e., signals that depend on <code>s</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L212-L216">source</a></section></article><h2 id="signal-types-of-dependencies"><a class="docs-heading-anchor" href="#signal-types-of-dependencies">Types of Dependencies</a><a id="signal-types-of-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-types-of-dependencies" title="Permalink"></a></h2><p>Signals might have different types of dependencies through options in <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>. Different types of dependencies have different purpose and behavior. Most importantly, they affect the way the signal becomes pending.</p><h3 id="signal-strong-vs-weak-dependencies"><a class="docs-heading-anchor" href="#signal-strong-vs-weak-dependencies">Strong vs. Weak Dependencies</a><a id="signal-strong-vs-weak-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-strong-vs-weak-dependencies" title="Permalink"></a></h3><p>By default, dependencies are &quot;strong,&quot; meaning they must be both computed and fresh (recently updated) for a signal to become pending. With <code>weak=true</code>, a dependency only needs to be computed (not necessarily fresh) to contribute to the pending state.</p><pre><code class="language-julia hljs">weak_dependency = Cortex.Signal(1)
strong_dependency = Cortex.Signal(2)

derived = Cortex.Signal(3)

Cortex.add_dependency!(derived, weak_dependency; weak=true)
Cortex.add_dependency!(derived, strong_dependency)

Cortex.is_pending(derived) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="390pt" height="249pt"
 viewBox="0.00 0.00 390.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 386,-245 386,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="173,-241 0,-241 0,-95 173,-95 173,-241"/>
<polygon fill="none" stroke="black" points="0.5,-216 0.5,-241 173.5,-241 173.5,-216 0.5,-216"/>
<text text-anchor="start" x="5.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-168 0.5,-216 173.5,-216 173.5,-168 0.5,-168"/>
<text text-anchor="start" x="7.5" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="154.5" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 </text>
<text text-anchor="start" x="7.5" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,-120 0.5,-168 173.5,-168 173.5,-120 0.5,-120"/>
<text text-anchor="start" x="7.5" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-95 0.5,-120 173.5,-120 173.5,-95 0.5,-95"/>
<text text-anchor="start" x="5.5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="382,-214 209,-214 209,-116 382,-116 382,-214"/>
<polygon fill="none" stroke="black" points="209.5,-189 209.5,-214 382.5,-214 382.5,-189 209.5,-189"/>
<text text-anchor="start" x="214.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="295.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="299.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="209.5,-141 209.5,-189 382.5,-189 382.5,-141 209.5,-141"/>
<text text-anchor="start" x="216.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="363.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="216.5" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="209.5,-116 209.5,-141 382.5,-141 382.5,-116 209.5,-116"/>
<text text-anchor="start" x="214.5" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M209,-202C185.18,-202 193.57,-166.47 179.31,-155.92"/>
<polygon fill="black" stroke="black" points="180.08,-152.5 169.5,-153 178.09,-159.21 180.08,-152.5"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="382,-98 209,-98 209,0 382,0 382,-98"/>
<polygon fill="none" stroke="black" points="209.5,-73 209.5,-98 382.5,-98 382.5,-73 209.5,-73"/>
<text text-anchor="start" x="214.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="295.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="299.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="209.5,-25 209.5,-73 382.5,-73 382.5,-25 209.5,-25"/>
<text text-anchor="start" x="216.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="363.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="216.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="209.5,0 209.5,-25 382.5,-25 382.5,0 209.5,0"/>
<text text-anchor="start" x="214.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="black" d="M209,-86C185.47,-86 193.41,-120.81 179.22,-131.14"/>
<polygon fill="black" stroke="black" points="178.11,-127.82 169.5,-134 180.08,-134.54 178.11,-127.82"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs">Cortex.set_value!(strong_dependency, 10)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="458pt" height="249pt"
 viewBox="0.00 0.00 458.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 454,-245 454,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="234,-241 0,-241 0,-95 234,-95 234,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 234,-241 234,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 234,-216 234,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 &%23160;(pending)</text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 234,-168 234,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 234,-120 234,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="446.5,-214 273.5,-214 273.5,-116 446.5,-116 446.5,-214"/>
<polygon fill="none" stroke="black" points="274,-189 274,-214 447,-214 447,-189 274,-189"/>
<text text-anchor="start" x="279" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="360" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="364" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="274,-141 274,-189 447,-189 447,-141 274,-141"/>
<text text-anchor="start" x="281" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="428" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="281" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="274,-116 274,-141 447,-141 447,-116 274,-116"/>
<text text-anchor="start" x="279" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M273,-202C248.1,-202 255.64,-165.81 239.86,-155.63"/>
<polygon fill="black" stroke="black" points="240.56,-152.2 230,-153 238.76,-158.96 240.56,-152.2"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="450,-98 270,-98 270,0 450,0 450,-98"/>
<polygon fill="none" stroke="black" points="270,-73 270,-98 450,-98 450,-73 270,-73"/>
<text text-anchor="start" x="275" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="356" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="360" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="270,-25 270,-73 450,-73 450,-25 270,-25"/>
<text text-anchor="start" x="277" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="424" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="277" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="270,0 270,-25 450,-25 450,0 270,0"/>
<text text-anchor="start" x="275" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M270,-86C246.35,-86 254.11,-120.81 239.79,-131.14"/>
<polygon fill="%231874cd" stroke="%231874cd" points="238.62,-127.84 230,-134 240.58,-134.56 238.62,-127.84"/>
</g>
</g>
</svg>
'/><p>Here, even though <code>weak_dependency</code> has not been updated, <code>derived</code> is still in the pending state because it only needs <code>strong_dependency</code> to be updated and <code>weak_dependency</code> only needs to be computed once (or set via constructor).</p><p>We can still update the weak dependency:</p><pre><code class="language-julia hljs">Cortex.set_value!(weak_dependency, 10)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="458pt" height="249pt"
 viewBox="0.00 0.00 458.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 454,-245 454,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="234,-241 0,-241 0,-95 234,-95 234,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 234,-241 234,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 234,-216 234,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 &%23160;(pending)</text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 234,-168 234,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 234,-120 234,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="450,-214 270,-214 270,-116 450,-116 450,-214"/>
<polygon fill="none" stroke="black" points="270,-189 270,-214 450,-214 450,-189 270,-189"/>
<text text-anchor="start" x="275" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="356" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="360" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="270,-141 270,-189 450,-189 450,-141 270,-141"/>
<text text-anchor="start" x="277" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="424" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="277" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="270,-116 270,-141 450,-141 450,-116 270,-116"/>
<text text-anchor="start" x="275" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" stroke-dasharray="5,2" d="M270,-202C246.06,-202 254.27,-166.47 239.88,-155.92"/>
<polygon fill="%231874cd" stroke="%231874cd" points="240.58,-152.48 230,-153 238.6,-159.19 240.58,-152.48"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="450,-98 270,-98 270,0 450,0 450,-98"/>
<polygon fill="none" stroke="black" points="270,-73 270,-98 450,-98 450,-73 270,-73"/>
<text text-anchor="start" x="275" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="356" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="360" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="270,-25 270,-73 450,-73 450,-25 270,-25"/>
<text text-anchor="start" x="277" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="424" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="277" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="270,0 270,-25 450,-25 450,0 270,0"/>
<text text-anchor="start" x="275" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M270,-86C246.35,-86 254.11,-120.81 239.79,-131.14"/>
<polygon fill="%231874cd" stroke="%231874cd" points="238.62,-127.84 230,-134 240.58,-134.56 238.62,-127.84"/>
</g>
</g>
</svg>
'/><p>As we can see, the derived signal remains in the pending state, but now it can also use the fresh value of the weak dependency.</p><h3 id="Intermediate-Dependencies"><a class="docs-heading-anchor" href="#Intermediate-Dependencies">Intermediate Dependencies</a><a id="Intermediate-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Intermediate-Dependencies" title="Permalink"></a></h3><p>Setting <code>intermediate=true</code> marks a dependency as intermediate, which affects how <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> traverses the dependency graph. This is useful for complex dependency trees within signals where some signals serve as connectors between other signals. This might be exploited to create a reduction operation on a collection of signals and use its result as a dependency for another signal.</p><pre><code class="language-julia hljs">some_dependency_1 = Cortex.Signal()
some_dependency_2 = Cortex.Signal()
intermediate_dependency = Cortex.Signal()
derived = Cortex.Signal()

Cortex.add_dependency!(derived, intermediate_dependency; intermediate=true)
Cortex.add_dependency!(intermediate_dependency, some_dependency_1)
Cortex.add_dependency!(intermediate_dependency, some_dependency_2)</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="563pt" height="326pt"
 viewBox="0.00 0.00 563.00 325.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 321.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-321.5 559,-321.5 559,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="161,-317.5 0,-317.5 0,-190.5 161,-190.5 161,-317.5"/>
<polygon fill="none" stroke="black" points="0.5,-292 0.5,-317 161.5,-317 161.5,-292 0.5,-292"/>
<text text-anchor="start" x="5.5" y="-301.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-301.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-244 0.5,-292 161.5,-292 161.5,-244 0.5,-244"/>
<text text-anchor="start" x="7.5" y="-273.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7.5" y="-254.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,-215 0.5,-244 161.5,-244 161.5,-215 0.5,-215"/>
<text text-anchor="start" x="7.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0.5,-190 0.5,-215 161.5,-215 161.5,-190 0.5,-190"/>
<text text-anchor="start" x="5.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="white" stroke="transparent" points="358,-241.5 197,-241.5 197,-120.5 358,-120.5 358,-241.5"/>
<polygon fill="none" stroke="black" points="197.5,-216 197.5,-241 358.5,-241 358.5,-216 197.5,-216"/>
<text text-anchor="start" x="202.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="283.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="287.5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="197.5,-168 197.5,-216 358.5,-216 358.5,-168 197.5,-168"/>
<text text-anchor="start" x="204.5" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="204.5" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="197.5,-120 197.5,-168 358.5,-168 358.5,-120 197.5,-120"/>
<text text-anchor="start" x="204.5" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="204.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge3" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%23999999" d="M197,-229C183.42,-229 177.72,-229 167.71,-229"/>
<polygon fill="%23999999" stroke="%23999999" points="167.5,-225.5 157.5,-229 167.5,-232.5 167.5,-225.5"/>
</g>
<!-- maindep1dep1 -->
<g id="node3" class="node">
<title>maindep1dep1</title>
<polygon fill="white" stroke="transparent" points="555,-214 394,-214 394,-116 555,-116 555,-214"/>
<polygon fill="none" stroke="black" points="394.5,-189 394.5,-214 555.5,-214 555.5,-189 394.5,-189"/>
<text text-anchor="start" x="399.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="480.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="484.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 2</text>
<polygon fill="none" stroke="black" points="394.5,-141 394.5,-189 555.5,-189 555.5,-141 394.5,-141"/>
<text text-anchor="start" x="401.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="401.5" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="394.5,-116 394.5,-141 555.5,-141 555.5,-116 394.5,-116"/>
<text text-anchor="start" x="399.5" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1dep1&%2345;&gt;maindep1 -->
<g id="edge1" class="edge">
<title>maindep1dep1:header&%2345;&gt;maindep1:dep1</title>
<path fill="none" stroke="black" d="M394,-202C370.18,-202 378.57,-166.47 364.31,-155.92"/>
<polygon fill="black" stroke="black" points="365.08,-152.5 354.5,-153 363.09,-159.21 365.08,-152.5"/>
</g>
<!-- maindep1dep2 -->
<g id="node4" class="node">
<title>maindep1dep2</title>
<polygon fill="white" stroke="transparent" points="555,-98 394,-98 394,0 555,0 555,-98"/>
<polygon fill="none" stroke="black" points="394.5,-73 394.5,-98 555.5,-98 555.5,-73 394.5,-73"/>
<text text-anchor="start" x="399.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="480.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="484.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 2</text>
<polygon fill="none" stroke="black" points="394.5,-25 394.5,-73 555.5,-73 555.5,-25 394.5,-25"/>
<text text-anchor="start" x="401.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="401.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="394.5,0 394.5,-25 555.5,-25 555.5,0 394.5,0"/>
<text text-anchor="start" x="399.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1dep2&%2345;&gt;maindep1 -->
<g id="edge2" class="edge">
<title>maindep1dep2:header&%2345;&gt;maindep1:dep2</title>
<path fill="none" stroke="black" d="M394,-86C370.47,-86 378.41,-120.81 364.22,-131.14"/>
<polygon fill="black" stroke="black" points="363.11,-127.82 354.5,-134 365.08,-134.54 363.11,-127.82"/>
</g>
</g>
</svg>
'/><h3 id="Listening-vs.-Non-listening-Dependencies"><a class="docs-heading-anchor" href="#Listening-vs.-Non-listening-Dependencies">Listening vs. Non-listening Dependencies</a><a id="Listening-vs.-Non-listening-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Listening-vs.-Non-listening-Dependencies" title="Permalink"></a></h3><p>With <code>listen=true</code> (default), a signal is notified when its dependency changes. Setting <code>listen=false</code> creates a dependency relationship without automatic notifications, useful when you want to manually control when a signal responds to changes.</p><pre><code class="language-julia hljs">s_source = Cortex.Signal()
s_non_listener = Cortex.Signal()
s_listener = Cortex.Signal()

Cortex.add_dependency!(s_non_listener, s_source; listen=false)
Cortex.add_dependency!(s_listener, s_source)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(s_non_listener) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(s_source)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="367pt" height="274pt"
 viewBox="0.00 0.00 367.00 274.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 270)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-270 363,-270 363,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="359,-266 197,-266 197,-120 359,-120 359,-266"/>
<polygon fill="none" stroke="black" points="197,-241 197,-266 359,-266 359,-241 197,-241"/>
<text text-anchor="start" x="202" y="-250.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="275" y="-250.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="197,-193 197,-241 359,-241 359,-193 197,-193"/>
<text text-anchor="start" x="204" y="-222.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="204" y="-203.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="197,-168 197,-193 359,-193 359,-168 197,-168"/>
<text text-anchor="start" x="202" y="-176.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
<polygon fill="none" stroke="black" points="197,-120 197,-168 359,-168 359,-120 197,-120"/>
<text text-anchor="start" x="204" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 1 (not listening)</text>
<text text-anchor="start" x="204" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 2 </text>
</g>
<!-- mainlistener1 -->
<g id="node2" class="node">
<title>mainlistener1</title>
<polygon fill="white" stroke="transparent" points="161,-214 0,-214 0,-116 161,-116 161,-214"/>
<polygon fill="none" stroke="black" points="0.5,-189 0.5,-214 161.5,-214 161.5,-189 0.5,-189"/>
<text text-anchor="start" x="5.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58.5" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-141 0.5,-189 161.5,-189 161.5,-141 0.5,-141"/>
<text text-anchor="start" x="7.5" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7.5" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,-116 0.5,-141 161.5,-141 161.5,-116 0.5,-116"/>
<text text-anchor="start" x="5.5" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener1 -->
<g id="edge1" class="edge">
<title>main:listener1&%2345;&gt;mainlistener1:header</title>
<path fill="none" stroke="%23666666" stroke-dasharray="1,5" d="M201,-153C177.06,-153 185.27,-188.53 170.88,-199.08"/>
<polygon fill="%23666666" stroke="%23666666" points="169.6,-195.81 161,-202 171.58,-202.52 169.6,-195.81"/>
</g>
<!-- mainlistener2 -->
<g id="node3" class="node">
<title>mainlistener2</title>
<polygon fill="white" stroke="transparent" points="161,-98 0,-98 0,0 161,0 161,-98"/>
<polygon fill="none" stroke="black" points="0.5,-73 0.5,-98 161.5,-98 161.5,-73 0.5,-73"/>
<text text-anchor="start" x="5.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58.5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-25 0.5,-73 161.5,-73 161.5,-25 0.5,-25"/>
<text text-anchor="start" x="7.5" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7.5" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0.5,0 0.5,-25 161.5,-25 161.5,0 0.5,0"/>
<text text-anchor="start" x="5.5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener2 -->
<g id="edge2" class="edge">
<title>main:listener2&%2345;&gt;mainlistener2:header</title>
<path fill="none" stroke="black" d="M201,-134C177.35,-134 185.11,-99.19 170.79,-88.86"/>
<polygon fill="black" stroke="black" points="171.58,-85.44 161,-86 169.62,-92.16 171.58,-85.44"/>
</g>
</g>
</svg>
'/><p>Now, normally, if we update the value of <code>s_source</code>, all listeners should be notified and become pending. However, since we set <code>listen=false</code> for the <code>s_non_listener</code>, it is not notified and is not changing its pending state.</p><pre><code class="language-julia hljs"># Update s_source. s_non_listener is NOT notified.
Cortex.set_value!(s_source, 6)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(s_non_listener) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(s_source)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="439pt" height="274pt"
 viewBox="0.00 0.00 439.00 274.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 270)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-270 435,-270 435,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="431,-266 258,-266 258,-120 431,-120 431,-266"/>
<polygon fill="none" stroke="black" points="258.5,-241 258.5,-266 431.5,-266 431.5,-241 258.5,-241"/>
<text text-anchor="start" x="263.5" y="-250.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="336.5" y="-250.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="258.5,-193 258.5,-241 431.5,-241 431.5,-193 258.5,-193"/>
<text text-anchor="start" x="265.5" y="-222.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412.5" y="-222.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">6 </text>
<text text-anchor="start" x="265.5" y="-203.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258.5,-168 258.5,-193 431.5,-193 431.5,-168 258.5,-168"/>
<text text-anchor="start" x="263.5" y="-176.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
<polygon fill="none" stroke="black" points="258.5,-120 258.5,-168 431.5,-168 431.5,-120 258.5,-120"/>
<text text-anchor="start" x="265.5" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 1 (not listening)</text>
<text text-anchor="start" x="265.5" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 2 </text>
</g>
<!-- mainlistener1 -->
<g id="node2" class="node">
<title>mainlistener1</title>
<polygon fill="white" stroke="transparent" points="191.5,-214 30.5,-214 30.5,-116 191.5,-116 191.5,-214"/>
<polygon fill="none" stroke="black" points="31,-189 31,-214 192,-214 192,-189 31,-189"/>
<text text-anchor="start" x="36" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="89" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="31,-141 31,-189 192,-189 192,-141 31,-141"/>
<text text-anchor="start" x="38" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="38" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="31,-116 31,-141 192,-141 192,-116 31,-116"/>
<text text-anchor="start" x="36" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener1 -->
<g id="edge1" class="edge">
<title>main:listener1&%2345;&gt;mainlistener1:header</title>
<path fill="none" stroke="%23666666" stroke-dasharray="1,5" d="M262.5,-153C228.54,-153 230.01,-192.55 203.25,-200.59"/>
<polygon fill="%23666666" stroke="%23666666" points="202.43,-197.17 193,-202 203.38,-204.1 202.43,-197.17"/>
</g>
<!-- mainlistener2 -->
<g id="node3" class="node">
<title>mainlistener2</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="222,-98 0,-98 0,0 222,0 222,-98"/>
<polygon fill="none" stroke="black" points="0,-73 0,-98 222,-98 222,-73 0,-73"/>
<text text-anchor="start" x="5" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-25 0,-73 222,-73 222,-25 0,-25"/>
<text text-anchor="start" x="7" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="154" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,0 0,-25 222,-25 222,0 0,0"/>
<text text-anchor="start" x="5" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener2 -->
<g id="edge2" class="edge">
<title>main:listener2&%2345;&gt;mainlistener2:header</title>
<path fill="none" stroke="black" d="M262.5,-134C238.73,-134 246.32,-99.19 231.85,-88.86"/>
<polygon fill="black" stroke="black" points="232.58,-85.42 222,-86 230.63,-92.15 232.58,-85.42"/>
</g>
</g>
</svg>
'/><h2 id="signal-computing-values"><a class="docs-heading-anchor" href="#signal-computing-values">Computing Signal Values</a><a id="signal-computing-values-1"></a><a class="docs-heading-anchor-permalink" href="#signal-computing-values" title="Permalink"></a></h2><p>We demonstrated how can we set a signal&#39;s value manually with <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>. Cortex provides a more structured and safer way to compute a signal&#39;s value with the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. The <code>compute!</code> function takes a strategy (often a simple function) to calculate the new value based on dependencies. Computing a signal typically clears its pending state.</p><pre><code class="language-julia hljs">signal_1 = Cortex.Signal(1)
signal_2 = Cortex.Signal(41)

signal_to_be_computed = Cortex.Signal()

Cortex.add_dependency!(signal_to_be_computed, signal_1)
Cortex.add_dependency!(signal_to_be_computed, signal_2)

Cortex.is_pending(signal_to_be_computed) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(signal_to_be_computed)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="446pt" height="249pt"
 viewBox="0.00 0.00 446.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 442,-245 442,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="222,-241 0,-241 0,-95 222,-95 222,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 222,-241 222,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 222,-216 222,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 222,-168 222,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 222,-120 222,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="434.5,-214 261.5,-214 261.5,-116 434.5,-116 434.5,-214"/>
<polygon fill="none" stroke="black" points="262,-189 262,-214 435,-214 435,-189 262,-189"/>
<text text-anchor="start" x="267" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="348" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="352" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="262,-141 262,-189 435,-189 435,-141 262,-141"/>
<text text-anchor="start" x="269" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="416" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="269" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="262,-116 262,-141 435,-141 435,-116 262,-116"/>
<text text-anchor="start" x="267" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M261,-202C236.1,-202 243.64,-165.81 227.86,-155.63"/>
<polygon fill="%231874cd" stroke="%231874cd" points="228.56,-152.2 218,-153 226.76,-158.96 228.56,-152.2"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="438,-98 258,-98 258,0 438,0 438,-98"/>
<polygon fill="none" stroke="black" points="258,-73 258,-98 438,-98 438,-73 258,-73"/>
<text text-anchor="start" x="263" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="344" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="348" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="258,-25 258,-73 438,-73 438,-25 258,-25"/>
<text text-anchor="start" x="265" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="412" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">41 </text>
<text text-anchor="start" x="265" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="258,0 258,-25 438,-25 438,0 258,0"/>
<text text-anchor="start" x="263" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M258,-86C234.35,-86 242.11,-120.81 227.79,-131.14"/>
<polygon fill="%231874cd" stroke="%231874cd" points="226.62,-127.84 218,-134 228.58,-134.56 226.62,-127.84"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs"># Define a strategy (a function) to compute the value
compute_sum = (signal, deps) -&gt; sum(Cortex.get_value, deps)

# Apply the strategy using compute!
Cortex.compute!(compute_sum, signal_to_be_computed)</code></pre><pre><code class="language-julia hljs">Cortex.get_value(signal_to_be_computed) # 42</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">42</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(signal_to_be_computed) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(signal_to_be_computed)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="404pt" height="249pt"
 viewBox="0.00 0.00 404.00 249.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 245)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-245 400,-245 400,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="180,-241 0,-241 0,-95 180,-95 180,-241"/>
<polygon fill="none" stroke="black" points="0,-216 0,-241 180,-241 180,-216 0,-216"/>
<text text-anchor="start" x="5" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-225.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-168 0,-216 180,-216 180,-168 0,-168"/>
<text text-anchor="start" x="7" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="154" y="-197.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">42 </text>
<text text-anchor="start" x="7" y="-178.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="0,-120 0,-168 180,-168 180,-120 0,-120"/>
<text text-anchor="start" x="7" y="-149.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-130.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-95 0,-120 180,-120 180,-95 0,-95"/>
<text text-anchor="start" x="5" y="-103.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="392.5,-214 219.5,-214 219.5,-116 392.5,-116 392.5,-214"/>
<polygon fill="none" stroke="black" points="220,-189 220,-214 393,-214 393,-189 220,-189"/>
<text text-anchor="start" x="225" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="306" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="310" y="-198.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="220,-141 220,-189 393,-189 393,-141 220,-141"/>
<text text-anchor="start" x="227" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="374" y="-170.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="227" y="-151.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="220,-116 220,-141 393,-141 393,-116 220,-116"/>
<text text-anchor="start" x="225" y="-124.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M219,-202C194.1,-202 201.64,-165.81 185.86,-155.63"/>
<polygon fill="black" stroke="black" points="186.56,-152.2 176,-153 184.76,-158.96 186.56,-152.2"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="396,-98 216,-98 216,0 396,0 396,-98"/>
<polygon fill="none" stroke="black" points="216,-73 216,-98 396,-98 396,-73 216,-73"/>
<text text-anchor="start" x="221" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="302" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="306" y="-82.8" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="216,-25 216,-73 396,-73 396,-25 216,-25"/>
<text text-anchor="start" x="223" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="370" y="-54.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">41 </text>
<text text-anchor="start" x="223" y="-35.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a variant</text>
<polygon fill="none" stroke="black" points="216,0 216,-25 396,-25 396,0 216,0"/>
<text text-anchor="start" x="221" y="-8.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="black" d="M216,-86C192.35,-86 200.11,-120.81 185.79,-131.14"/>
<polygon fill="black" stroke="black" points="184.62,-127.84 176,-134 186.58,-134.56 184.62,-127.84"/>
</g>
</g>
</svg>
'/><div class="admonition is-info" id="Note-4278292e78773ba0"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-4278292e78773ba0" title="Permalink"></a></header><div class="admonition-body"><p>By default, <code>compute!</code> throws an <code>ArgumentError</code> if called on a signal that is not pending (<a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> returns <code>false</code>). You can override this check using the <code>force=true</code> keyword argument.</p><pre><code class="language-julia hljs"># This would normally throw an error:
# compute!(compute_sum, signal_to_be_computed)

# But we can force it:
Cortex.compute!(compute_sum, signal_to_be_computed; force=true)

Cortex.get_value(signal_to_be_computed) # 42</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">42</code></pre></div></div><h3 id="Custom-Compute-Strategies"><a class="docs-heading-anchor" href="#Custom-Compute-Strategies">Custom Compute Strategies</a><a id="Custom-Compute-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Compute-Strategies" title="Permalink"></a></h3><p>You can define custom types and methods to implement more complex computation logic beyond simple functions. This allows strategies to hold their own state or parameters.</p><p>First, define a struct for your strategy:</p><pre><code class="language-julia hljs">struct CustomStrategy
    multiplier::Int
end</code></pre><p>Then, implement the <a href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, AbstractVector}"><code>compute_value!</code></a> method for your strategy type:</p><pre><code class="language-julia hljs">function Cortex.compute_value!(strategy::CustomStrategy, signal::Cortex.Signal, dependencies)
    # Example: Use signal&#39;s variant if available
    variant = Cortex.get_variant(signal)
    base_sum = sum(Cortex.get_value, dependencies)
    offset = variant isa Dict &amp;&amp; haskey(variant, :offset) ? variant[:offset] : 0
    return strategy.multiplier * base_sum + offset
end</code></pre><p>Now, you can use this strategy with your signals:</p><pre><code class="language-julia hljs">strategy = CustomStrategy(2)

signal_with_variant = Cortex.Signal(variant=Dict(:offset =&gt; 10))

Cortex.add_dependency!(signal_with_variant, signal_1)
Cortex.add_dependency!(signal_with_variant, signal_2)

Cortex.compute!(strategy, signal_with_variant)

Cortex.get_value(signal_with_variant) # 94</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">94</code></pre><pre><code class="language-julia hljs">Cortex.compute!(CustomStrategy(3), signal_with_variant; force=true)

Cortex.get_value(signal_with_variant) # 136</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">136</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.compute!-Tuple{Any, Cortex.Signal}" href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>Cortex.compute!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute!(s::Signal, strategy; force::Bool = false, skip_if_no_listeners::Bool = true)</code></pre><p>Compute the value of the signal <code>s</code> using the given <code>strategy</code>.  The strategy must implement <a href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, AbstractVector}"><code>compute_value!</code></a> method. If the strategy is a function, it is assumed to be a function that takes the signal and a vector of signal&#39;s dependencies as arguments and returns a value. Be sure to call <code>compute!</code> only on signals that are pending.  Calling <code>compute!</code> on a non-pending signal will result in an error.</p><p>When <code>skip_if_no_listeners</code> is set to <code>true</code>, the function will not compute the signal if it has no listeners. If <code>skip_if_no_listeners</code> is set to <code>false</code>, the function will compute the signal even if it has no listeners. This is useful for signals that are computed on demand with no listeners.</p><p>Keyword Arguments:</p><ul><li><code>force::Bool = false</code>: If <code>true</code>, the signal will be computed even if it is not pending.</li><li><code>skip_if_no_listeners::Bool = true</code>: If <code>true</code>, the function will not compute the signal if it has no listeners.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L374-L391">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.compute_value!-Tuple{Any, Cortex.Signal, AbstractVector}" href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, AbstractVector}"><code>Cortex.compute_value!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_value!(strategy, signal, dependencies)</code></pre><p>Compute the value of the signal <code>signal</code> using the given <code>strategy</code>. The strategy must implement this method. See also <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L412-L417">source</a></section></article><h2 id="Processing/Traversal-of-Dependencies"><a class="docs-heading-anchor" href="#Processing/Traversal-of-Dependencies">Processing/Traversal of Dependencies</a><a id="Processing/Traversal-of-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Processing/Traversal-of-Dependencies" title="Permalink"></a></h2><p>The <code>process_dependencies!</code> function provides a powerful way to traverse and operate on the dependency graph of a signal. It&#39;s particularly useful for scenarios where you need more control over how dependencies are evaluated or when implementing custom update schedulers.</p><p>The function recursively applies a user-defined function <code>f</code> to each dependency. <code>f</code> should return <code>true</code> if it considers the dependency &quot;processed&quot; by its own logic, and <code>false</code> otherwise. <code>process_dependencies!</code> propagates this status and can optionally retry processing an intermediate dependency if its own sub-dependencies were processed.</p><p><strong>Use Cases:</strong></p><ul><li>Implementing custom evaluation orders for signals.</li><li>Performing actions on dependencies before computing a parent signal.</li><li>Debugging or inspecting the state of a signal&#39;s dependency graph.</li></ul><p><strong>Conceptual Example:</strong></p><p>Imagine you want to traverse the dependency graph of a signal and you want to log which ones were already computed and which ones are not.</p><pre><code class="language-julia hljs">signal1 = Cortex.Signal(1; variant = :signal1) # computed
signal2 = Cortex.Signal(; variant = :signal2)  # not computed
signal3 = Cortex.Signal(3; variant = :signal3)  # computed

intermediate_signal = Cortex.Signal(variant = :intermediate_signal)

Cortex.add_dependency!(intermediate_signal, signal2)
Cortex.add_dependency!(intermediate_signal, signal3)

derived = Cortex.Signal(variant = :derived)

Cortex.add_dependency!(derived, signal1)
Cortex.add_dependency!(derived, intermediate_signal; intermediate=true)

function my_processing_function(dependency_signal::Cortex.Signal)
    if !Cortex.is_computed(dependency_signal)
        println(&quot;The dependency signal: &quot;, Cortex.get_variant(dependency_signal), &quot; is not computed&quot;)
    else
        println(&quot;The dependency signal: &quot;, Cortex.get_variant(dependency_signal), &quot; is computed. The value is: &quot;, Cortex.get_value(dependency_signal))
    end
    # always return false to process all the dependencies
    return false
end

Cortex.process_dependencies!(my_processing_function, derived)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">The dependency signal: signal1 is computed. The value is: 1
The dependency signal: intermediate_signal is not computed
The dependency signal: signal2 is not computed
The dependency signal: signal3 is computed. The value is: 3</code></pre><p>Let&#39;s see if that actually the case by visualizing the dependency graph:</p><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="72905d35.svg" alt="Example block output"/><p>This example illustrates how you can inject custom logic into the dependency traversal. The actual computation or state change would happen within <code>my_processing_function</code>. For example, here how can we <code>compute!</code> the signal if it is not computed:</p><pre><code class="language-julia hljs">signal1 = Cortex.Signal(1; variant = :signal1)
signal2 = Cortex.Signal(2; variant = :signal2)
signal3 = Cortex.Signal(3; variant = :signal3)

intermediate_signal = Cortex.Signal(variant = :intermediate_signal)

Cortex.add_dependency!(intermediate_signal, signal2)
Cortex.add_dependency!(intermediate_signal, signal3)

derived = Cortex.Signal(variant = :derived)

Cortex.add_dependency!(derived, signal1)
Cortex.add_dependency!(derived, intermediate_signal; intermediate=true)

function compute_if_not_computed(signal::Cortex.Signal)
    if Cortex.is_pending(signal)
        println(&quot;Computing the signal: &quot;, Cortex.get_variant(signal))
        Cortex.compute!((signal, deps) -&gt; sum(Cortex.get_value, deps), signal)
        return true
    end
    return false
end

Cortex.process_dependencies!(compute_if_not_computed, derived; retry = true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Computing the signal: intermediate_signal</code></pre><p>Now, since we processed and computed all the dependencies, the derived signal should be in the pending state:</p><pre><code class="language-julia hljs">Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="3969588f.svg" alt="Example block output"/><p>Which we can also compute using the same function:</p><pre><code class="language-julia hljs">compute_if_not_computed(derived)

Cortex.get_value(derived) # 6</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="6241a279.svg" alt="Example block output"/><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}" href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>Cortex.process_dependencies!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_dependencies!(f::F, signal::Signal; retry::Bool = false) where {F}</code></pre><p>Recursively processes the dependencies of a <code>signal</code> using a provided function <code>f</code>.</p><p>The function <code>f</code> is applied to each direct dependency of <code>signal</code>. If a dependency is marked as <code>intermediate</code>  and <code>f</code> returns <code>false</code> for it (indicating it was not processed by <code>f</code> according to its own criteria),  <code>process_dependencies!</code> will then be called recursively on that intermediate dependency.</p><p>Arguments:</p><ul><li><code>f::F</code>: A function (or callable object) that takes a <code>Signal</code> (a dependency) as an argument and returns a <code>Bool</code>.  It should return <code>true</code> if it considered the dependency processed, and <code>false</code> otherwise. The specific logic  for this determination (e.g., checking if a dependency is pending before processing) is up to <code>f</code>.</li><li><code>signal::Signal</code>: The signal whose dependencies are to be processed.</li></ul><p>Keyword Arguments:</p><ul><li><code>retry::Bool = false</code>: If <code>true</code>, and an intermediate dependency&#39;s own sub-dependencies were processed  (i.e., the recursive call to <code>process_dependencies!</code> for the intermediate dependency returned <code>true</code>  because <code>f</code> returned <code>true</code> for at least one sub-dependency), then the function <code>f</code> will be called  again on the intermediate dependency itself. This allows for a second attempt by <code>f</code> to process the  intermediate dependency after its own prerequisites might have been met by processing its sub-dependencies.</li></ul><p>Returns:</p><ul><li><code>Bool</code>: <code>true</code> if the function <code>f</code> returned <code>true</code> for at least one dependency encountered (either directly  or recursively through an intermediate one). Returns <code>false</code> if <code>f</code> returned <code>false</code> for all dependencies  it was applied to.</li></ul><p>Behavior Details:</p><ul><li>For each dependency of <code>signal</code>:<ol><li><code>f(dependency)</code> is called.</li><li>If <code>f(dependency)</code> returns <code>true</code>, this dependency is considered processed by <code>f</code>.</li><li>If <code>f(dependency)</code> returns <code>false</code> AND the dependency is marked as <code>intermediate</code>:  a. <code>process_dependencies!(f, dependency; retry=retry)</code> is called recursively.  b. If this recursive call returns <code>true</code> (meaning <code>f</code> processed at least one sub-dependency of the      intermediate one) AND <code>retry</code> is <code>true</code>, then <code>f(dependency)</code> is called again.</li></ol></li><li>The function tracks whether <code>f</code> returned <code>true</code> for any dependency it was applied to, at any level of  recursion (for intermediate dependencies) or direct application, and returns this aggregated result.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/d74b1f66e96a082351d9cbeb25308300f26cbc10/src/signal.jl#L428-L465">source</a></section></article><h2 id="signals-visualization"><a class="docs-heading-anchor" href="#signals-visualization">Signal Visualization</a><a id="signals-visualization-1"></a><a class="docs-heading-anchor-permalink" href="#signals-visualization" title="Permalink"></a></h2><p>The <code>Cortex.jl</code> package provides a function to visualize the dependency graph of a signal. This function becomes available when the <code>GraphViz.jl</code> package is installed in your environment. When visualized, the signal is represented as a node, as well as its dependencies and listeners. The colors of the nodes depend on their state. The connections between the nodes depend on the type of the dependency. To demonstrate this, let&#39;s consider the following example:</p><pre><code class="language-julia hljs">using GraphViz # enables visualization

# The main signal to visualize
s = Cortex.Signal()

# Direct dependencies of `s`
dep1 = Cortex.Signal()
dep2 = Cortex.Signal(; variant = &quot;dep2&quot;)

Cortex.add_dependency!(s, dep1; intermediate = true, weak = true)
Cortex.add_dependency!(s, dep2; weak = true)

# Dependencies of `dep1`
dep1_for_dep1 = Cortex.Signal(3)
dep1_for_dep2 = Cortex.Signal(4)

Cortex.add_dependency!(dep1, dep1_for_dep1)
Cortex.add_dependency!(dep1, dep1_for_dep2; intermediate = true, weak = true)

# Dependencies of `dep2`
dep1_for_dep2 = Cortex.Signal()
Cortex.add_dependency!(dep2, dep1_for_dep2)

# Deep dependency of `dep1_for_dep2`
dep_for_dep1_for_dep2 = Cortex.Signal()
Cortex.add_dependency!(dep1_for_dep2, dep_for_dep1_for_dep2)

# Listeners of `s`
listener1_of_s = Cortex.Signal()
listener2_of_s = Cortex.Signal()

Cortex.add_dependency!(listener1_of_s, s)
Cortex.add_dependency!(listener2_of_s, s; listen = false)

# Listeners of `dep1`, but it won&#39;t be displayed for `s`
listener1_of_dep1 = Cortex.Signal()

Cortex.add_dependency!(listener1_of_dep1, dep1)

GraphViz.load(s)</code></pre><img src="b19a1faa.svg" alt="Example block output"/><div class="admonition is-category-unknown" id="Documentation-for-GraphViz.jl-extension-3036cb83c282564e"><header class="admonition-header">Documentation for GraphViz.jl extension<a class="admonition-anchor" href="#Documentation-for-GraphViz.jl-extension-3036cb83c282564e" title="Permalink"></a></header><div class="admonition-body"><pre><code class="nohighlight hljs">GraphViz.load(s::Signal; 
    max_depth::Int = 2,
    max_dependencies::Int = 10,
    max_listeners::Int = 10,
    variant_to_string_fn = string,
    show_value::Bool = true,
    show_variant::Bool = true,
    show_listeners::Bool = true
) -&gt; GraphViz.Graph</code></pre><p>Creates a GraphViz visualization of a Signal and its dependency graph.</p><p>The visualization includes:</p><ul><li>The signal&#39;s value and variant (if present)</li><li>Dependencies and their relationships</li><li>Listeners and their states</li><li>Visual indicators for pending, computed, and intermediate states</li></ul><h1>Arguments</h1><ul><li><code>s::Signal</code>: The signal to visualize</li></ul><h1>Keyword Arguments</h1><ul><li><code>max_depth::Int = 2</code>: Maximum depth of the dependency tree to display</li><li><code>max_dependencies::Int = 10</code>: Maximum number of dependencies to show per signal</li><li><code>max_listeners::Int = 10</code>: Maximum number of listeners to show per signal</li><li><code>variant_to_string_fn = string</code>: Function to convert signal variant to string</li><li><code>show_value::Bool = true</code>: Whether to display signal values</li><li><code>show_variant::Bool = true</code>: Whether to display signal variants</li><li><code>show_listeners::Bool = true</code>: Whether to display signal listeners</li></ul><h1>Visual Styling</h1><ul><li><p>Nodes use different colors and styles to indicate their state:</p><ul><li>Computed nodes: Light yellow background with bold text</li><li>Pending nodes: Light blue background with bold text</li><li>Regular nodes: White background</li></ul></li><li><p>Edges have different styles based on dependency properties:</p><ul><li>Weak dependencies: Dashed lines</li><li>Intermediate dependencies: Gray color</li><li>Fresh dependencies: Blue color</li><li>Fresh and intermediate: Cadet blue color</li></ul></li><li><p>Listener edges:</p><ul><li>Active listeners: Solid black lines</li><li>Inactive listeners: Dotted gray lines</li></ul></li></ul><h1>Returns</h1><p>A <code>GraphViz.Graph</code> object representing the signal&#39;s dependency graph.</p></div></div><h2 id="Internal-Mechanics-(For-Developers)"><a class="docs-heading-anchor" href="#Internal-Mechanics-(For-Developers)">Internal Mechanics (For Developers)</a><a id="Internal-Mechanics-(For-Developers)-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Mechanics-(For-Developers)" title="Permalink"></a></h2><div class="admonition is-warning" id="Advanced-Topic-c07d8ab609b3d9a6"><header class="admonition-header">Advanced Topic<a class="admonition-anchor" href="#Advanced-Topic-c07d8ab609b3d9a6" title="Permalink"></a></header><div class="admonition-body"><p>The details in this section are primarily for developers working on or extending Cortex.jl&#39;s core reactivity. Regular users do not typically need to interact with these internal components directly.</p></div></div><p>The efficient tracking of dependency states (intermediate, weak, computed, and fresh) is managed internally by a structure associated with each signal, <code>SignalDependenciesProps</code>.</p><h3 id="SignalDependenciesProps:-Packed-Dependency-Information"><a class="docs-heading-anchor" href="#SignalDependenciesProps:-Packed-Dependency-Information"><code>SignalDependenciesProps</code>: Packed Dependency Information</a><a id="SignalDependenciesProps:-Packed-Dependency-Information-1"></a><a class="docs-heading-anchor-permalink" href="#SignalDependenciesProps:-Packed-Dependency-Information" title="Permalink"></a></h3><p>To minimize overhead, the properties for each dependency are bit-packed into 4-bit &quot;nibbles&quot; within <code>UInt64</code> chunks. This allows a single <code>UInt64</code> to hold status information for 16 dependencies. The bits are assigned as follows (from LSB to MSB):</p><ul><li><strong>Bit 1 (<code>0x1</code>): <code>IsIntermediate</code></strong>: True if the dependency is an intermediate one for processing logic (see <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a>).</li><li><strong>Bit 2 (<code>0x2</code>): <code>IsWeak</code></strong>: True if the dependency is weak.</li><li><strong>Bit 3 (<code>0x4</code>): <code>IsComputed</code></strong>: True if the dependency itself holds a computed value.</li><li><strong>Bit 4 (<code>0x8</code>): <code>IsFresh</code></strong>: True if the dependency has provided a new value that has not yet been consumed by the current signal&#39;s computation.</li></ul><h3 id="Determining-Pending-State"><a class="docs-heading-anchor" href="#Determining-Pending-State">Determining Pending State</a><a id="Determining-Pending-State-1"></a><a class="docs-heading-anchor-permalink" href="#Determining-Pending-State" title="Permalink"></a></h3><p>The <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending(signal)</code></a> function relies on an internal check (currently <code>is_meeting_pending_criteria</code>) that operates on these packed properties. A signal is considered to meet the criteria to become pending if, for <strong>every</strong> one of its dependencies:</p><p><code>(IsComputed AND (IsWeak OR IsFresh))</code></p><p>This means:</p><ul><li>A <strong>weak</strong> dependency must simply be <code>IsComputed</code>.</li><li>A <strong>strong</strong> (non-weak) dependency must be <code>IsComputed</code> AND <code>IsFresh</code>.</li></ul><p>When <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> is called on a signal:</p><ol><li>The <code>IsFresh</code> flags for all its own dependencies are cleared (as their values have now been &quot;used&quot;).</li><li>For each of its listeners, the original signal (which just got a new value) is marked as <code>IsComputed</code> and <code>IsFresh</code> in that listener&#39;s dependency properties. This, in turn, can cause the listener to become pending.</li></ol><p>This bit-packed approach allows for efficient batch updates and checks across many dependencies.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../model_engine/">Model Engine: The Foundation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Sunday 8 June 2025 14:20">Sunday 8 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
