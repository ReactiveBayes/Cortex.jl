<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Signals: The Core of Reactivity · Cortex.jl</title><meta name="title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta property="og:title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta property="twitter:title" content="Signals: The Core of Reactivity · Cortex.jl"/><meta name="description" content="Documentation for Cortex.jl."/><meta property="og:description" content="Documentation for Cortex.jl."/><meta property="twitter:description" content="Documentation for Cortex.jl."/><meta property="og:url" content="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><meta property="twitter:url" content="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><link rel="canonical" href="https://ReactiveBayes.github.io/Cortex.jl/signals/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Cortex.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Signals: The Core of Reactivity</a><ul class="internal"><li><a class="tocitem" href="#Concept"><span>Concept</span></a></li><li><a class="tocitem" href="#Key-Features"><span>Key Features</span></a></li><li><a class="tocitem" href="#Core-Operations"><span>Core Operations</span></a></li><li><a class="tocitem" href="#signal-adding-dependencies"><span>Adding Dependencies</span></a></li><li><a class="tocitem" href="#signal-types-of-dependencies"><span>Types of Dependencies</span></a></li><li><a class="tocitem" href="#signal-computing-values"><span>Computing Signal Values</span></a></li><li><a class="tocitem" href="#Processing/Traversal-of-Dependencies"><span>Processing/Traversal of Dependencies</span></a></li><li><a class="tocitem" href="#signals-visualization"><span>Signal Visualization</span></a></li><li><a class="tocitem" href="#Internal-Mechanics-(For-Developers)"><span>Internal Mechanics (For Developers)</span></a></li></ul></li><li><a class="tocitem" href="../model_backend/">Model Backend: The Foundation</a></li><li><a class="tocitem" href="../inference_engine/">Inference Engine: The Brain</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Signals: The Core of Reactivity</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Signals: The Core of Reactivity</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Cortex.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/Cortex.jl/blob/main/docs/src/signals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="signals"><a class="docs-heading-anchor" href="#signals">Signals: The Core of Reactivity</a><a id="signals-1"></a><a class="docs-heading-anchor-permalink" href="#signals" title="Permalink"></a></h1><p>At the heart of Cortex.jl&#39;s reactivity system lies the <a href="#Cortex.Signal"><code>Signal</code></a>. Signals are being used extensively in the <a href="../inference_engine/#inference">inference</a> to track the necessary or stale computations.</p><h2 id="Concept"><a class="docs-heading-anchor" href="#Concept">Concept</a><a id="Concept-1"></a><a class="docs-heading-anchor-permalink" href="#Concept" title="Permalink"></a></h2><p>Think of a <a href="#Cortex.Signal"><code>Signal</code></a> as a container for a value that can change over time. When this change will happen is not known beforehand. The key idea is that other parts of your system can <em>depend</em> on a signal. When the signal&#39;s value changes, anything that depends on it (its <em>listeners</em>) is notified, allowing the system to react on changes and recompute values.</p><p>An every day example would be a spreadsheet cell. When you change the value in one cell (like <code>A1</code>), other cells that use <code>A1</code> in their formulas (like <code>B1 = A1 * 2</code>) automatically update. A <a href="#Cortex.Signal"><code>Signal</code></a> is like that cell – it holds a value, and changes can trigger updates elsewhere.</p><p>More technically, <a href="#Cortex.Signal"><code>Signal</code></a>s form a directed graph (potentially cyclic). Each <a href="#Cortex.Signal"><code>Signal</code></a> node stores a value, an optional <code>type</code> identifier (<code>UInt8</code>), optional <code>metadata</code>, and maintains lists of its dependencies and listeners. When a signal is updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> or <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, it propagates a notification to its direct listeners, potentially marking them as &#39;pending&#39;. This <a href="#signal-pending-state">&#39;pending&#39; state</a> indicates that the signal&#39;s value might be stale and needs recomputation. The actual recomputation logic is defined externally via the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. A signal may become &#39;pending&#39; if all its dependencies meet the criteria: weak dependencies are computed, and strong dependencies are computed and <strong>fresh</strong> (i.e., have new, unused values). This also means that a signal never recomputes its own value, as it must be done externally.</p><h2 id="Key-Features"><a class="docs-heading-anchor" href="#Key-Features">Key Features</a><a id="Key-Features-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Features" title="Permalink"></a></h2><ul><li><strong>Value Storage:</strong> Holds the current value (or <code>UndefValue()</code> if the value is not set).</li><li><strong>Type Identifier:</strong> Stores an optional <code>UInt8</code> type (<a href="#Cortex.get_type-Tuple{Cortex.Signal}"><code>get_type</code></a>), defaulting to <code>0x00</code>. This might be particularly useful for choosing different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</li><li><strong>Optional Metadata:</strong> Can store arbitrary metadata (<a href="#Cortex.get_metadata-Tuple{Cortex.Signal}"><code>get_metadata</code></a>), defaulting to <code>UndefMetadata()</code>. Metadata can also be used to choose different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</li><li><strong>Dependency Tracking:</strong> Knows which other signals it depends on (see <a href="#Cortex.get_dependencies-Tuple{Cortex.Signal}"><code>get_dependencies</code></a>) and which signals depend on it (see  <a href="#Cortex.get_listeners-Tuple{Cortex.Signal}"><code>get_listeners</code></a>).</li><li><strong>Notification:</strong> When updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, it notifies its active listeners.</li><li><strong>Pending State:</strong> Can be marked as <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> if its dependencies have updated appropriately, signaling a need for recomputation via <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>. Read more about the pending state in the <a href="#signal-pending-state">Pending State</a> section.</li><li><strong>External Computation:</strong> Relies on the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function and a provided strategy to update its value based on dependencies.</li><li><strong>Traversal of Dependencies:</strong> The <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> function can be used to traverse the dependency graph and apply a custom logic to the dependencies.</li><li><strong>Weak Dependencies:</strong> Supports &#39;weak&#39; dependencies, which influence the pending state based only on whether they are computed (<a href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>is_computed</code></a>), not their &#39;fresh&#39; status in the same way as strong dependencies. See <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a> for more details.</li><li><strong>Controlled Listening:</strong> Allows dependencies to be added without automatically listening to their updates (<code>listen=false</code> in <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>).</li><li><strong>GraphViz Support:</strong> Signals can be visualized using the <code>GraphViz.jl</code> package. Cortex automatically loads the visualization extension when <code>GraphViz.jl</code> package is loaded in the current Julia session. Read more about it in the <a href="#signals-visualization">Visualization</a> section.</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.Signal" href="#Cortex.Signal"><code>Cortex.Signal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Signal()
Signal(value; type::UInt8 = 0x00, metadata::Any = UndefMetadata())</code></pre><p>A reactive signal that holds a value and tracks dependencies as well as notifies listeners when the value changes. If created without an initial value, the signal is initialized with <a href="#Cortex.UndefValue"><code>UndefValue()</code></a>. The <code>metadata</code> field can be used to store arbitrary metadata about the signal. Default value is <a href="#Cortex.UndefMetadata"><code>UndefMetadata()</code></a>.</p><p>A signal is said to be &#39;pending&#39; if it is ready for potential recomputation (due to updated dependencies). However, a signal is not recomputed immediately when it becomes pending. Moreover, a Signal does not know  how to recompute itself. The recomputation logic is defined separately with the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</p><p>Signals form a directed graph where edges represent dependencies. When a signal&#39;s value is updated via <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, it notifies its active listeners.</p><p>A signal may become &#39;pending&#39; if all its dependencies meet the following criteria:</p><ul><li>all its weak dependencies have computed values, AND</li><li>all its strong dependencies have computed values and are older than the listener.</li></ul><p>A signal can depend on another signal without listening to it, see <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a> for more details.</p><p>The <code>type</code> field is an optional <code>UInt8</code> type identifier.  It might be useful to choose different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</p><p>See also: <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>, <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>, <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L53-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.UndefValue" href="#Cortex.UndefValue"><code>Cortex.UndefValue</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UndefValue</code></pre><p>A singleton type used to represent an undefined or uninitialized state within a <a href="#Cortex.Signal"><code>Signal</code></a>. This indicates that the signal has not yet been computed or has been invalidated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.UndefMetadata" href="#Cortex.UndefMetadata"><code>Cortex.UndefMetadata</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UndefMetadata</code></pre><p>A singleton type used to represent an undefined or uninitialized state within a <a href="#Cortex.Signal"><code>Signal</code></a>. This indicates that the signal has no metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L9-L14">source</a></section></article><h2 id="Core-Operations"><a class="docs-heading-anchor" href="#Core-Operations">Core Operations</a><a id="Core-Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Operations" title="Permalink"></a></h2><div class="admonition is-info" id="Note-b2b30835e9cb2dd0"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-b2b30835e9cb2dd0" title="Permalink"></a></header><div class="admonition-body"><p>Before we proceed, we load the package itslef and we also load the <code>GraphViz.jl</code> package in order to enable the visualization extension.</p><pre><code class="language-julia hljs">using GraphViz # Enable the visualization extension</code></pre><p>To get the SVG representation of the signal graph, we can use the <code>GraphViz.load</code> function.</p></div></div><p>Here are some basic examples demonstrating how to use signals.</p><h3 id="Creating-Signals-and-Checking-Properties"><a class="docs-heading-anchor" href="#Creating-Signals-and-Checking-Properties">Creating Signals and Checking Properties</a><a id="Creating-Signals-and-Checking-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Signals-and-Checking-Properties" title="Permalink"></a></h3><p>Signal can be created using the <code>Cortex.Signal</code> constructor</p><pre><code class="language-julia hljs">a_signal_with_no_value = Cortex.Signal()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=#undef, pending=false)</code></pre><p>By default, the signal has no value. We can check this by calling the <a href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_value(a_signal_with_no_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Cortex.UndefValue()</code></pre><p>We can also create a signal with an initial value.</p><pre><code class="language-julia hljs">a_signal_with_value = Cortex.Signal(10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=10, pending=false)</code></pre><p>We can check the value of the signal by calling the <a href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_value(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10</code></pre><p>Additionally, we can check if the signal is computed with the <a href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>Cortex.is_computed</code></a> function.</p><pre><code class="language-julia hljs">Cortex.is_computed(a_signal_with_no_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">Cortex.is_computed(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>Signals themselves do not know how to compute their value. This is done externally via the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. However, in order to update the value of a signal, we need to know if the signal is pending. If signal is pending, it means that it needs to be recomputed. On the contrary, if the signal is not pending, it means that the value is up to date and we can use the value without recomputing it. Normally, the signal becomes pending automatically when <a href="#signal-adding-dependencies">its dependencies</a> are updated.</p><p>We can check if a signal is pending with the <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>Cortex.is_pending</code></a> function.</p><pre><code class="language-julia hljs">Cortex.is_pending(a_signal_with_value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>Since our signals does not have any dependencies, it is not pending. We will talk more about the dependencies and the <a href="#signal-pending-state">pending state</a> in the <a href="#signal-adding-dependencies">Adding Dependencies</a> section.</p><p>We can manually update a signal&#39;s value with <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>. The <code>set_value!</code> function doesn&#39;t check if the signal is pending or not. It only updates the value of the signal. Read the <a href="#signal-computing-values">Updating Signal Values</a> section for a more structured way to update a signal&#39;s value.</p><pre><code class="language-julia hljs">some_signal  = Cortex.Signal()
Cortex.get_value(some_signal)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Cortex.UndefValue()</code></pre><pre><code class="language-julia hljs">Cortex.set_value!(some_signal, 99.0)</code></pre><pre><code class="language-julia hljs">Cortex.get_value(some_signal)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">99.0</code></pre><div class="admonition is-warning" id="Warning-3b0d3e857cb3ae4d"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-3b0d3e857cb3ae4d" title="Permalink"></a></header><div class="admonition-body"><p><strong>Important:</strong> Normally, it is implied that <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> must be called only on signals that are pending. Also see the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function for a more general way to update signal values.</p></div></div><h4 id="Signal-Type-and-Metadata"><a class="docs-heading-anchor" href="#Signal-Type-and-Metadata">Signal Type and Metadata</a><a id="Signal-Type-and-Metadata-1"></a><a class="docs-heading-anchor-permalink" href="#Signal-Type-and-Metadata" title="Permalink"></a></h4><p>You can optionally specify a <code>type</code> identifier and <code>metadata</code>. Specifying the type identifier and metadata is useful when you want to choose different computation strategies for different types of signals within the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function.</p><pre><code class="language-julia hljs"># Signal with type and metadata
signal_with_type_and_metadata = Cortex.Signal(type=0x01, metadata=Dict(:info =&gt; &quot;flag&quot;, :some_value =&gt; 10))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=#undef, pending=false, type=0x01, metadata=Dict{Symbol, Any}(:some_value =&gt; 10, :info =&gt; &quot;flag&quot;))</code></pre><p>The type can be accessed with the <a href="#Cortex.get_type-Tuple{Cortex.Signal}"><code>Cortex.get_type</code></a> function and the metadata can be accessed with the <a href="#Cortex.get_metadata-Tuple{Cortex.Signal}"><code>Cortex.get_metadata</code></a> function.</p><pre><code class="language-julia hljs">Cortex.get_type(signal_with_type_and_metadata)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0x01</code></pre><pre><code class="language-julia hljs">Cortex.get_metadata(signal_with_type_and_metadata)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Any} with 2 entries:
  :some_value =&gt; 10
  :info       =&gt; &quot;flag&quot;</code></pre><p>The metadata can be any object, not just a dictionary.</p><pre><code class="language-julia hljs">signal_with_metadata = Cortex.Signal(metadata=&quot;hello world!&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Signal(value=#undef, pending=false, metadata=&quot;hello world!&quot;)</code></pre><h4 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_value-Tuple{Cortex.Signal}" href="#Cortex.get_value-Tuple{Cortex.Signal}"><code>Cortex.get_value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_value(s::Signal)</code></pre><p>Get the current value of the signal <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L152-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_type-Tuple{Cortex.Signal}" href="#Cortex.get_type-Tuple{Cortex.Signal}"><code>Cortex.get_type</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_type(s::Signal) -&gt; UInt8</code></pre><p>Get the type identifier (UInt8) of the signal <code>s</code>. Defaults to <code>0x00</code> if not specified during construction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L161-L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_metadata-Tuple{Cortex.Signal}" href="#Cortex.get_metadata-Tuple{Cortex.Signal}"><code>Cortex.get_metadata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_metadata(s::Signal)</code></pre><p>Get the metadata associated with the signal <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L171-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.is_computed-Tuple{Cortex.Signal}" href="#Cortex.is_computed-Tuple{Cortex.Signal}"><code>Cortex.is_computed</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_computed(s::Signal) -&gt; Bool</code></pre><p>Check if the signal <code>s</code> has been computed (i.e., its value is not equal to <a href="#Cortex.UndefValue"><code>UndefValue()</code></a>). See also: <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L142-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.is_pending-Tuple{Cortex.Signal}" href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>Cortex.is_pending</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_pending(s::Signal) -&gt; Bool</code></pre><p>Check if the signal <code>s</code> is marked as pending. This usually indicates that the signal&#39;s value is stale and needs recomputation. See also: <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>, <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L121-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.set_value!-Tuple{Cortex.Signal, Any}" href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>Cortex.set_value!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_value!(s::Signal, value::Any)</code></pre><p>Set the <code>value</code> of the signal <code>s</code>. Notifies all the active listeners of the signal.</p><div class="admonition is-info" id="Note-ed8bcad28e9d71ee"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-ed8bcad28e9d71ee" title="Permalink"></a></header><div class="admonition-body"><p>This function is not a part of the public API.  Additionally, it is implied that <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> must be called only on signals that are pending. Use <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> for a more general way to update signal values.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L198-L208">source</a></section></article><h2 id="signal-adding-dependencies"><a class="docs-heading-anchor" href="#signal-adding-dependencies">Adding Dependencies</a><a id="signal-adding-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-adding-dependencies" title="Permalink"></a></h2><p>Signals can depend on other signals. This is particularly useful when you want to compute a signal&#39;s value based on the values of other signals. To add a new dependency, use <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>. This populates the <code>dependencies</code> list of the dependent signal and the <code>listeners</code> list of the dependency.</p><pre><code class="language-julia hljs">source_1 = Cortex.Signal(1)
source_2 = Cortex.Signal(2)

derived = Cortex.Signal() # A signal that will depend on source_1 and source_2

Cortex.add_dependency!(derived, source_1)
Cortex.add_dependency!(derived, source_2)</code></pre><pre><code class="language-julia hljs">length(Cortex.get_dependencies(derived)) # 2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><pre><code class="language-julia hljs">length(Cortex.get_listeners(source_1))           # 1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><pre><code class="language-julia hljs">length(Cortex.get_listeners(source_2))           # 1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><p>Here we can also use the <code>GraphViz.jl</code> package to visualize the dependency graph.</p><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="449pt" height="297pt"
 viewBox="0.00 0.00 449.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 445,-293 445,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="227,-289 0,-289 0,-124 227,-124 227,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 227.5,-288.5 227.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 227.5,-263.5 227.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 227.5,-196.5 227.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 227.5,-148.5 227.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-252 263,-252 263,-135 441,-135 441,-252"/>
<polygon fill="none" stroke="black" points="263,-226.5 263,-251.5 441,-251.5 441,-226.5 263,-226.5"/>
<text text-anchor="start" x="268" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263,-159.5 263,-226.5 441,-226.5 441,-159.5 263,-159.5"/>
<text text-anchor="start" x="270" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="270" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,-134.5 263,-159.5 441,-159.5 441,-134.5 263,-134.5"/>
<text text-anchor="start" x="268" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M263,-239.5C235.95,-239.5 249.57,-195.88 233.32,-184.3"/>
<polygon fill="%231874cd" stroke="%231874cd" points="234.08,-180.87 223.5,-181.5 232.16,-187.61 234.08,-180.87"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-117 263,-117 263,0 441,0 441,-117"/>
<polygon fill="none" stroke="black" points="263,-91.5 263,-116.5 441,-116.5 441,-91.5 263,-91.5"/>
<text text-anchor="start" x="268" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263,-24.5 263,-91.5 441,-91.5 441,-24.5 263,-24.5"/>
<text text-anchor="start" x="270" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="270" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,0.5 263,-24.5 441,-24.5 441,0.5 263,0.5"/>
<text text-anchor="start" x="268" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M263,-104.5C235.95,-104.5 249.57,-148.12 233.32,-159.7"/>
<polygon fill="%231874cd" stroke="%231874cd" points="232.16,-156.39 223.5,-162.5 234.08,-163.13 232.16,-156.39"/>
</g>
</g>
</svg>
'/><p>By default, the visualization uses different colors and styles to distinguish between different types of dependencies as well as their pending states. Read more about it in the <a href="#signals-visualization">Visualization</a> section.</p><h3 id="signal-pending-state"><a class="docs-heading-anchor" href="#signal-pending-state">Pending State</a><a id="signal-pending-state-1"></a><a class="docs-heading-anchor-permalink" href="#signal-pending-state" title="Permalink"></a></h3><p>A signal becomes pending (<a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> returns <code>true</code>) when its dependencies are updated in a way that satisfies the pending criteria (all <a href="#signal-strong-vs-weak-dependencies">weak dependencies</a> are computed, and all <a href="#signal-strong-vs-weak-dependencies">strong dependencies</a> are <strong>fresh</strong> and computed). Adding a computed dependency can also immediately mark a signal as pending.</p><p>Updating a dependency can mark listeners as pending:</p><pre><code class="language-julia hljs">source_1 = Cortex.Signal(1)
source_2 = Cortex.Signal(2)

derived = Cortex.Signal() # A signal that will depend on s1 and s2

Cortex.add_dependency!(derived, source_1)
Cortex.add_dependency!(derived, source_2)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="449pt" height="297pt"
 viewBox="0.00 0.00 449.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 445,-293 445,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="227,-289 0,-289 0,-124 227,-124 227,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 227.5,-288.5 227.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 227.5,-263.5 227.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 227.5,-196.5 227.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 227.5,-148.5 227.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-252 263,-252 263,-135 441,-135 441,-252"/>
<polygon fill="none" stroke="black" points="263,-226.5 263,-251.5 441,-251.5 441,-226.5 263,-226.5"/>
<text text-anchor="start" x="268" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263,-159.5 263,-226.5 441,-226.5 441,-159.5 263,-159.5"/>
<text text-anchor="start" x="270" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="270" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,-134.5 263,-159.5 441,-159.5 441,-134.5 263,-134.5"/>
<text text-anchor="start" x="268" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M263,-239.5C235.95,-239.5 249.57,-195.88 233.32,-184.3"/>
<polygon fill="%231874cd" stroke="%231874cd" points="234.08,-180.87 223.5,-181.5 232.16,-187.61 234.08,-180.87"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-117 263,-117 263,0 441,0 441,-117"/>
<polygon fill="none" stroke="black" points="263,-91.5 263,-116.5 441,-116.5 441,-91.5 263,-91.5"/>
<text text-anchor="start" x="268" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263,-24.5 263,-91.5 441,-91.5 441,-24.5 263,-24.5"/>
<text text-anchor="start" x="270" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="270" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,0.5 263,-24.5 441,-24.5 441,0.5 263,0.5"/>
<text text-anchor="start" x="268" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M263,-104.5C235.95,-104.5 249.57,-148.12 233.32,-159.7"/>
<polygon fill="%231874cd" stroke="%231874cd" points="232.16,-156.39 223.5,-162.5 234.08,-163.13 232.16,-156.39"/>
</g>
</g>
</svg>
'/><p><code>derived</code> is pending because both <code>source_1</code> and <code>source_2</code> have been computed and are considered fresh with respect to <code>derived</code> at the time of dependency addition. Let&#39;s try a different example:</p><pre><code class="language-julia hljs">some_source = Cortex.Signal()
derived = Cortex.Signal()

Cortex.add_dependency!(derived, some_source)

Cortex.is_pending(derived) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="376pt" height="220pt"
 viewBox="0.00 0.00 376.00 219.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 215.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-215.5 372,-215.5 372,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="166,-211.5 0,-211.5 0,-65.5 166,-65.5 166,-211.5"/>
<polygon fill="none" stroke="black" points="0,-186.5 0,-211.5 166,-211.5 166,-186.5 0,-186.5"/>
<text text-anchor="start" x="5" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-119.5 0,-186.5 166,-186.5 166,-119.5 0,-119.5"/>
<text text-anchor="start" x="7" y="-168.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7" y="-149.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-130.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,-90.5 0,-119.5 166,-119.5 166,-90.5 0,-90.5"/>
<text text-anchor="start" x="7" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0,-65.5 0,-90.5 166,-90.5 166,-65.5 0,-65.5"/>
<text text-anchor="start" x="5" y="-74.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="white" stroke="transparent" points="368,-117 202,-117 202,0 368,0 368,-117"/>
<polygon fill="none" stroke="black" points="202,-91.5 202,-116.5 368,-116.5 368,-91.5 202,-91.5"/>
<text text-anchor="start" x="207" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="288" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="292" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="202,-24.5 202,-91.5 368,-91.5 368,-24.5 202,-24.5"/>
<text text-anchor="start" x="209" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="209" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="209" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="202,0.5 202,-24.5 368,-24.5 368,0.5 202,0.5"/>
<text text-anchor="start" x="207" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M202,-104.5C188.11,-104.5 182.36,-104.5 172.03,-104.5"/>
<polygon fill="black" stroke="black" points="172,-101 162,-104.5 172,-108 172,-101"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs">Cortex.set_value!(some_source, 1)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="449pt" height="220pt"
 viewBox="0.00 0.00 449.00 219.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 215.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-215.5 445,-215.5 445,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="227,-211.5 0,-211.5 0,-65.5 227,-65.5 227,-211.5"/>
<polygon fill="none" stroke="black" points="0.5,-186.5 0.5,-211.5 227.5,-211.5 227.5,-186.5 0.5,-186.5"/>
<text text-anchor="start" x="5.5" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-119.5 0.5,-186.5 227.5,-186.5 227.5,-119.5 0.5,-119.5"/>
<text text-anchor="start" x="7.5" y="-168.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="159.5" y="-168.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7.5" y="-149.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-130.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-90.5 0.5,-119.5 227.5,-119.5 227.5,-90.5 0.5,-90.5"/>
<text text-anchor="start" x="7.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0.5,-65.5 0.5,-90.5 227.5,-90.5 227.5,-65.5 0.5,-65.5"/>
<text text-anchor="start" x="5.5" y="-74.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-117 263,-117 263,0 441,0 441,-117"/>
<polygon fill="none" stroke="black" points="263,-91.5 263,-116.5 441,-116.5 441,-91.5 263,-91.5"/>
<text text-anchor="start" x="268" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263,-24.5 263,-91.5 441,-91.5 441,-24.5 263,-24.5"/>
<text text-anchor="start" x="270" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="270" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,0.5 263,-24.5 441,-24.5 441,0.5 263,0.5"/>
<text text-anchor="start" x="268" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M263,-104.5C249.42,-104.5 243.72,-104.5 233.71,-104.5"/>
<polygon fill="%231874cd" stroke="%231874cd" points="233.5,-101 223.5,-104.5 233.5,-108 233.5,-101"/>
</g>
</g>
</svg>
'/><p>After setting the value of <code>some_source</code>, <code>derived</code> becomes pending because <code>some_source</code> is now computed and fresh with respect to <code>derived</code>.</p><p>Here, we can compute a new value for the derived signal based on the new value of <code>some_source</code>:</p><pre><code class="language-julia hljs">Cortex.set_value!(derived, 2 * Cortex.get_value(some_source))</code></pre><pre><code class="language-julia hljs">Cortex.get_value(derived) # 2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="400pt" height="220pt"
 viewBox="0.00 0.00 400.00 219.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 215.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-215.5 396,-215.5 396,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="178,-211.5 0,-211.5 0,-65.5 178,-65.5 178,-211.5"/>
<polygon fill="none" stroke="black" points="0,-186.5 0,-211.5 178,-211.5 178,-186.5 0,-186.5"/>
<text text-anchor="start" x="5" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-196.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-119.5 0,-186.5 178,-186.5 178,-119.5 0,-119.5"/>
<text text-anchor="start" x="7" y="-168.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="159" y="-168.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="7" y="-149.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-130.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,-90.5 0,-119.5 178,-119.5 178,-90.5 0,-90.5"/>
<text text-anchor="start" x="7" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0,-65.5 0,-90.5 178,-90.5 178,-65.5 0,-65.5"/>
<text text-anchor="start" x="5" y="-74.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="392,-117 214,-117 214,0 392,0 392,-117"/>
<polygon fill="none" stroke="black" points="214,-91.5 214,-116.5 392,-116.5 392,-91.5 214,-91.5"/>
<text text-anchor="start" x="219" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="300" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="304" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="214,-24.5 214,-91.5 392,-91.5 392,-24.5 214,-24.5"/>
<text text-anchor="start" x="221" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="373" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="221" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="221" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="214,0.5 214,-24.5 392,-24.5 392,0.5 214,0.5"/>
<text text-anchor="start" x="219" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M214,-104.5C200.11,-104.5 194.36,-104.5 184.03,-104.5"/>
<polygon fill="black" stroke="black" points="184,-101 174,-104.5 184,-108 184,-101"/>
</g>
</g>
</svg>
'/><p>As we can see, the derived signal is no longer in the pending state after calling the <code>set_value!</code> function. It is implied that the <code>set_value!</code> function is only called on signals that are pending. See the <a href="#signal-computing-values">Computing Signal Values</a> section for a more structured way to compute a signal&#39;s value.</p><h3 id="API-Reference-2"><a class="docs-heading-anchor" href="#API-Reference-2">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}" href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>Cortex.add_dependency!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_dependency!(signal::Signal, dependency::Signal; weak::Bool = false, listen::Bool = true, intermediate::Bool = false)</code></pre><p>Add <code>dependency</code> to the list of dependencies for signal <code>signal</code>. Also adds <code>signal</code> to the list of listeners for <code>dependency</code>.</p><p>Arguments:</p><ul><li><code>signal::Signal</code>: The signal to add a dependency to.</li><li><code>dependency::Signal</code>: The signal to be added as a dependency.</li></ul><p>Keyword Arguments:</p><ul><li><code>intermediate::Bool = false</code>: If <code>true</code>, marks the dependency as intermediate. Intermediate dependencies</li></ul><p>have an effect on the <code>process_dependencies!</code> function. See the documentation of <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> for more details. By default, the added dependency is not intermediate.</p><ul><li><code>weak::Bool = false</code>: If <code>true</code>, marks the dependency as weak. Weak dependencies only require <code>is_computed</code> to be true (not necessarily older) for the dependent signal <code>signal</code> to potentially become pending.</li><li><code>listen::Bool = true</code>: If <code>true</code>, <code>signal</code> will be notified when <code>dependency</code> is updated. If <code>false</code>, <code>dependency</code> is added, but <code>signal</code> will not automatically be notified of updates to <code>dependency</code>.</li><li><code>check_computed::Bool = true</code>: If <code>true</code>, the function will check if <code>dependency</code> is already computed.</li></ul><p>If so, it will notify <code>signal</code> immediately. Note that if <code>listen</code> is set to false,  further updates to <code>dependency</code> will not trigger notifications to <code>signal</code>.</p><p>The same dependency should not be added multiple times. Doing so will result in wrong notification behaviour and likely will lead to incorrect results. Note that this function does nothing if <code>signal === dependency</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L232-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_dependencies-Tuple{Cortex.Signal}" href="#Cortex.get_dependencies-Tuple{Cortex.Signal}"><code>Cortex.get_dependencies</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_dependencies(s::Signal) -&gt; Vector{Signal}</code></pre><p>Get the list of signals that the signal <code>s</code> depends on.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L180-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.get_listeners-Tuple{Cortex.Signal}" href="#Cortex.get_listeners-Tuple{Cortex.Signal}"><code>Cortex.get_listeners</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_listeners(s::Signal) -&gt; Vector{Signal}</code></pre><p>Get the list of signals that listen to the signal <code>s</code> (i.e., signals that depend on <code>s</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L189-L193">source</a></section></article><h2 id="signal-types-of-dependencies"><a class="docs-heading-anchor" href="#signal-types-of-dependencies">Types of Dependencies</a><a id="signal-types-of-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-types-of-dependencies" title="Permalink"></a></h2><p>Signals might have different types of dependencies through options in <a href="#Cortex.add_dependency!-Tuple{Cortex.Signal, Cortex.Signal}"><code>add_dependency!</code></a>. Different types of dependencies have different purpose and behavior. Most importantly, they affect the way the signal becomes pending.</p><h3 id="signal-strong-vs-weak-dependencies"><a class="docs-heading-anchor" href="#signal-strong-vs-weak-dependencies">Strong vs. Weak Dependencies</a><a id="signal-strong-vs-weak-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#signal-strong-vs-weak-dependencies" title="Permalink"></a></h3><p>By default, dependencies are &quot;strong,&quot; meaning they must be both computed and fresh (recently updated) for a signal to become pending. With <code>weak=true</code>, a dependency only needs to be computed (not necessarily fresh) to contribute to the pending state.</p><pre><code class="language-julia hljs">weak_dependency = Cortex.Signal(1)
strong_dependency = Cortex.Signal(2)

derived = Cortex.Signal(3)

Cortex.add_dependency!(derived, weak_dependency; weak=true)
Cortex.add_dependency!(derived, strong_dependency)

Cortex.is_pending(derived) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="400pt" height="297pt"
 viewBox="0.00 0.00 400.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 396,-293 396,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="178,-289 0,-289 0,-124 178,-124 178,-289"/>
<polygon fill="none" stroke="black" points="0,-263.5 0,-288.5 178,-288.5 178,-263.5 0,-263.5"/>
<text text-anchor="start" x="5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-196.5 0,-263.5 178,-263.5 178,-196.5 0,-196.5"/>
<text text-anchor="start" x="7" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="159" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 </text>
<text text-anchor="start" x="7" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,-148.5 0,-196.5 178,-196.5 178,-148.5 0,-148.5"/>
<text text-anchor="start" x="7" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0,-123.5 0,-148.5 178,-148.5 178,-123.5 0,-123.5"/>
<text text-anchor="start" x="5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="392,-252 214,-252 214,-135 392,-135 392,-252"/>
<polygon fill="none" stroke="black" points="214,-226.5 214,-251.5 392,-251.5 392,-226.5 214,-226.5"/>
<text text-anchor="start" x="219" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="300" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="304" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="214,-159.5 214,-226.5 392,-226.5 392,-159.5 214,-159.5"/>
<text text-anchor="start" x="221" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="373" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="221" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="221" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="214,-134.5 214,-159.5 392,-159.5 392,-134.5 214,-134.5"/>
<text text-anchor="start" x="219" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M214,-239.5C186.85,-239.5 200.25,-195.88 183.87,-184.3"/>
<polygon fill="black" stroke="black" points="184.58,-180.86 174,-181.5 182.67,-187.59 184.58,-180.86"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="392,-117 214,-117 214,0 392,0 392,-117"/>
<polygon fill="none" stroke="black" points="214,-91.5 214,-116.5 392,-116.5 392,-91.5 214,-91.5"/>
<text text-anchor="start" x="219" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="300" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="304" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="214,-24.5 214,-91.5 392,-91.5 392,-24.5 214,-24.5"/>
<text text-anchor="start" x="221" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="373" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">2 </text>
<text text-anchor="start" x="221" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="221" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="214,0.5 214,-24.5 392,-24.5 392,0.5 214,0.5"/>
<text text-anchor="start" x="219" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="black" d="M214,-104.5C186.85,-104.5 200.25,-148.12 183.87,-159.7"/>
<polygon fill="black" stroke="black" points="182.67,-156.41 174,-162.5 184.58,-163.14 182.67,-156.41"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs">Cortex.set_value!(strong_dependency, 10)

Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="468pt" height="297pt"
 viewBox="0.00 0.00 468.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 464,-293 464,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="239,-289 0,-289 0,-124 239,-124 239,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 239.5,-288.5 239.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 239.5,-263.5 239.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 &%23160;(pending)</text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 239.5,-196.5 239.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 239.5,-148.5 239.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="456.5,-252 278.5,-252 278.5,-135 456.5,-135 456.5,-252"/>
<polygon fill="none" stroke="black" points="278.5,-226.5 278.5,-251.5 456.5,-251.5 456.5,-226.5 278.5,-226.5"/>
<text text-anchor="start" x="283.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="364.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="368.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="278.5,-159.5 278.5,-226.5 456.5,-226.5 456.5,-159.5 278.5,-159.5"/>
<text text-anchor="start" x="285.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="437.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="285.5" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="285.5" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="278.5,-134.5 278.5,-159.5 456.5,-159.5 456.5,-134.5 278.5,-134.5"/>
<text text-anchor="start" x="283.5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M277.5,-239.5C249.9,-239.5 262.52,-195.88 245.6,-184.3"/>
<polygon fill="black" stroke="black" points="246.07,-180.8 235.5,-181.5 244.2,-187.54 246.07,-180.8"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="460,-117 275,-117 275,0 460,0 460,-117"/>
<polygon fill="none" stroke="black" points="275.5,-91.5 275.5,-116.5 460.5,-116.5 460.5,-91.5 275.5,-91.5"/>
<text text-anchor="start" x="280.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="361.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="365.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="275.5,-24.5 275.5,-91.5 460.5,-91.5 460.5,-24.5 275.5,-24.5"/>
<text text-anchor="start" x="282.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="434.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="282.5" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="282.5" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="275.5,0.5 275.5,-24.5 460.5,-24.5 460.5,0.5 275.5,0.5"/>
<text text-anchor="start" x="280.5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M275,-104.5C247.95,-104.5 261.57,-148.12 245.32,-159.7"/>
<polygon fill="%231874cd" stroke="%231874cd" points="244.16,-156.39 235.5,-162.5 246.08,-163.13 244.16,-156.39"/>
</g>
</g>
</svg>
'/><p>Here, even though <code>weak_dependency</code> has not been updated, <code>derived</code> is still in the pending state because it only needs <code>strong_dependency</code> to be updated and <code>weak_dependency</code> only needs to be computed once (or set via constructor).</p><p>We can still update the weak dependency:</p><pre><code class="language-julia hljs">Cortex.set_value!(weak_dependency, 10)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="468pt" height="297pt"
 viewBox="0.00 0.00 468.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 464,-293 464,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="239,-289 0,-289 0,-124 239,-124 239,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 239.5,-288.5 239.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 239.5,-263.5 239.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">3 &%23160;(pending)</text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 239.5,-196.5 239.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 239.5,-148.5 239.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="460,-252 275,-252 275,-135 460,-135 460,-252"/>
<polygon fill="none" stroke="black" points="275.5,-226.5 275.5,-251.5 460.5,-251.5 460.5,-226.5 275.5,-226.5"/>
<text text-anchor="start" x="280.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="361.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="365.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="275.5,-159.5 275.5,-226.5 460.5,-226.5 460.5,-159.5 275.5,-159.5"/>
<text text-anchor="start" x="282.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="434.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="282.5" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="282.5" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="275.5,-134.5 275.5,-159.5 460.5,-159.5 460.5,-134.5 275.5,-134.5"/>
<text text-anchor="start" x="280.5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" stroke-dasharray="5,2" d="M275,-239.5C247.95,-239.5 261.57,-195.88 245.32,-184.3"/>
<polygon fill="%231874cd" stroke="%231874cd" points="246.08,-180.87 235.5,-181.5 244.16,-187.61 246.08,-180.87"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="460,-117 275,-117 275,0 460,0 460,-117"/>
<polygon fill="none" stroke="black" points="275.5,-91.5 275.5,-116.5 460.5,-116.5 460.5,-91.5 275.5,-91.5"/>
<text text-anchor="start" x="280.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="361.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="365.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="275.5,-24.5 275.5,-91.5 460.5,-91.5 460.5,-24.5 275.5,-24.5"/>
<text text-anchor="start" x="282.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="434.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">10 </text>
<text text-anchor="start" x="282.5" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="282.5" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="275.5,0.5 275.5,-24.5 460.5,-24.5 460.5,0.5 275.5,0.5"/>
<text text-anchor="start" x="280.5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M275,-104.5C247.95,-104.5 261.57,-148.12 245.32,-159.7"/>
<polygon fill="%231874cd" stroke="%231874cd" points="244.16,-156.39 235.5,-162.5 246.08,-163.13 244.16,-156.39"/>
</g>
</g>
</svg>
'/><p>As we can see, the derived signal remains in the pending state, but now it can also use the fresh value of the weak dependency.</p><h3 id="Intermediate-Dependencies"><a class="docs-heading-anchor" href="#Intermediate-Dependencies">Intermediate Dependencies</a><a id="Intermediate-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Intermediate-Dependencies" title="Permalink"></a></h3><p>Setting <code>intermediate=true</code> marks a dependency as intermediate, which affects how <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a> traverses the dependency graph. This is useful for complex dependency trees within signals where some signals serve as connectors between other signals. This might be exploited to create a reduction operation on a collection of signals and use its result as a dependency for another signal.</p><pre><code class="language-julia hljs">some_dependency_1 = Cortex.Signal()
some_dependency_2 = Cortex.Signal()
intermediate_dependency = Cortex.Signal()
derived = Cortex.Signal()

Cortex.add_dependency!(derived, intermediate_dependency; intermediate=true)
Cortex.add_dependency!(intermediate_dependency, some_dependency_1)
Cortex.add_dependency!(intermediate_dependency, some_dependency_2)</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="578pt" height="392pt"
 viewBox="0.00 0.00 578.00 391.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 387.5)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-387.5 574,-387.5 574,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="166,-383.5 0,-383.5 0,-237.5 166,-237.5 166,-383.5"/>
<polygon fill="none" stroke="black" points="0,-358.5 0,-383.5 166,-383.5 166,-358.5 0,-358.5"/>
<text text-anchor="start" x="5" y="-368.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78" y="-368.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-291.5 0,-358.5 166,-358.5 166,-291.5 0,-291.5"/>
<text text-anchor="start" x="7" y="-340.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7" y="-321.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-302.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,-262.5 0,-291.5 166,-291.5 166,-262.5 0,-262.5"/>
<text text-anchor="start" x="7" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<polygon fill="none" stroke="black" points="0,-237.5 0,-262.5 166,-262.5 166,-237.5 0,-237.5"/>
<text text-anchor="start" x="5" y="-246.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="white" stroke="transparent" points="368,-288.5 202,-288.5 202,-148.5 368,-148.5 368,-288.5"/>
<polygon fill="none" stroke="black" points="202,-263.5 202,-288.5 368,-288.5 368,-263.5 202,-263.5"/>
<text text-anchor="start" x="207" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="288" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="292" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="202,-196.5 202,-263.5 368,-263.5 368,-196.5 202,-196.5"/>
<text text-anchor="start" x="209" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="209" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="209" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="202,-148.5 202,-196.5 368,-196.5 368,-148.5 202,-148.5"/>
<text text-anchor="start" x="209" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="209" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge3" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%23999999" d="M202,-276.5C188.11,-276.5 182.36,-276.5 172.03,-276.5"/>
<polygon fill="%23999999" stroke="%23999999" points="172,-273 162,-276.5 172,-280 172,-273"/>
</g>
<!-- maindep1dep1 -->
<g id="node3" class="node">
<title>maindep1dep1</title>
<polygon fill="white" stroke="transparent" points="570,-252 404,-252 404,-135 570,-135 570,-252"/>
<polygon fill="none" stroke="black" points="404,-226.5 404,-251.5 570,-251.5 570,-226.5 404,-226.5"/>
<text text-anchor="start" x="409" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="490" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="494" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 2</text>
<polygon fill="none" stroke="black" points="404,-159.5 404,-226.5 570,-226.5 570,-159.5 404,-159.5"/>
<text text-anchor="start" x="411" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="411" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="411" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="404,-134.5 404,-159.5 570,-159.5 570,-134.5 404,-134.5"/>
<text text-anchor="start" x="409" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1dep1&%2345;&gt;maindep1 -->
<g id="edge1" class="edge">
<title>maindep1dep1:header&%2345;&gt;maindep1:dep1</title>
<path fill="none" stroke="black" d="M404,-239.5C376.85,-239.5 390.25,-195.88 373.87,-184.3"/>
<polygon fill="black" stroke="black" points="374.58,-180.86 364,-181.5 372.67,-187.59 374.58,-180.86"/>
</g>
<!-- maindep1dep2 -->
<g id="node4" class="node">
<title>maindep1dep2</title>
<polygon fill="white" stroke="transparent" points="570,-117 404,-117 404,0 570,0 570,-117"/>
<polygon fill="none" stroke="black" points="404,-91.5 404,-116.5 570,-116.5 570,-91.5 404,-91.5"/>
<text text-anchor="start" x="409" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="490" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="494" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 2</text>
<polygon fill="none" stroke="black" points="404,-24.5 404,-91.5 570,-91.5 570,-24.5 404,-24.5"/>
<text text-anchor="start" x="411" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="411" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="411" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="404,0.5 404,-24.5 570,-24.5 570,0.5 404,0.5"/>
<text text-anchor="start" x="409" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1dep2&%2345;&gt;maindep1 -->
<g id="edge2" class="edge">
<title>maindep1dep2:header&%2345;&gt;maindep1:dep2</title>
<path fill="none" stroke="black" d="M404,-104.5C376.85,-104.5 390.25,-148.12 373.87,-159.7"/>
<polygon fill="black" stroke="black" points="372.67,-156.41 364,-162.5 374.58,-163.14 372.67,-156.41"/>
</g>
</g>
</svg>
'/><h3 id="Listening-vs.-Non-listening-Dependencies"><a class="docs-heading-anchor" href="#Listening-vs.-Non-listening-Dependencies">Listening vs. Non-listening Dependencies</a><a id="Listening-vs.-Non-listening-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Listening-vs.-Non-listening-Dependencies" title="Permalink"></a></h3><p>With <code>listen=true</code> (default), a signal is notified when its dependency changes. Setting <code>listen=false</code> creates a dependency relationship without automatic notifications, useful when you want to manually control when a signal responds to changes.</p><pre><code class="language-julia hljs">s_source = Cortex.Signal()
s_non_listener = Cortex.Signal()
s_listener = Cortex.Signal()

Cortex.add_dependency!(s_non_listener, s_source; listen=false)
Cortex.add_dependency!(s_listener, s_source)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(s_non_listener) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(s_source)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="376pt" height="322pt"
 viewBox="0.00 0.00 376.00 322.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 318)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-318 372,-318 372,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="white" stroke="transparent" points="368,-314 202,-314 202,-149 368,-149 368,-314"/>
<polygon fill="none" stroke="black" points="202,-288.5 202,-313.5 368,-313.5 368,-288.5 202,-288.5"/>
<text text-anchor="start" x="207" y="-298.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="280" y="-298.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="202,-221.5 202,-288.5 368,-288.5 368,-221.5 202,-221.5"/>
<text text-anchor="start" x="209" y="-270.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="209" y="-251.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="209" y="-232.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="202,-196.5 202,-221.5 368,-221.5 368,-196.5 202,-196.5"/>
<text text-anchor="start" x="207" y="-205.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
<polygon fill="none" stroke="black" points="202,-148.5 202,-196.5 368,-196.5 368,-148.5 202,-148.5"/>
<text text-anchor="start" x="209" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 1 (not listening)</text>
<text text-anchor="start" x="209" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 2 </text>
</g>
<!-- mainlistener1 -->
<g id="node2" class="node">
<title>mainlistener1</title>
<polygon fill="white" stroke="transparent" points="166,-252 0,-252 0,-135 166,-135 166,-252"/>
<polygon fill="none" stroke="black" points="0,-226.5 0,-251.5 166,-251.5 166,-226.5 0,-226.5"/>
<text text-anchor="start" x="5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-159.5 0,-226.5 166,-226.5 166,-159.5 0,-159.5"/>
<text text-anchor="start" x="7" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,-134.5 0,-159.5 166,-159.5 166,-134.5 0,-134.5"/>
<text text-anchor="start" x="5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener1 -->
<g id="edge1" class="edge">
<title>main:listener1&%2345;&gt;mainlistener1:header</title>
<path fill="none" stroke="%23666666" stroke-dasharray="1,5" d="M206,-181.5C178.85,-181.5 192.25,-225.12 175.87,-236.7"/>
<polygon fill="%23666666" stroke="%23666666" points="174.67,-233.41 166,-239.5 176.58,-240.14 174.67,-233.41"/>
</g>
<!-- mainlistener2 -->
<g id="node3" class="node">
<title>mainlistener2</title>
<polygon fill="white" stroke="transparent" points="166,-117 0,-117 0,0 166,0 166,-117"/>
<polygon fill="none" stroke="black" points="0,-91.5 0,-116.5 166,-116.5 166,-91.5 0,-91.5"/>
<text text-anchor="start" x="5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0,-24.5 0,-91.5 166,-91.5 166,-24.5 0,-24.5"/>
<text text-anchor="start" x="7" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="7" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0,0.5 0,-24.5 166,-24.5 166,0.5 0,0.5"/>
<text text-anchor="start" x="5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener2 -->
<g id="edge2" class="edge">
<title>main:listener2&%2345;&gt;mainlistener2:header</title>
<path fill="none" stroke="black" d="M206,-162.5C178.85,-162.5 192.25,-118.88 175.87,-107.3"/>
<polygon fill="black" stroke="black" points="176.58,-103.86 166,-104.5 174.67,-110.59 176.58,-103.86"/>
</g>
</g>
</svg>
'/><p>Now, normally, if we update the value of <code>s_source</code>, all listeners should be notified and become pending. However, since we set <code>listen=false</code> for the <code>s_non_listener</code>, it is not notified and is not changing its pending state.</p><pre><code class="language-julia hljs"># Update s_source. s_non_listener is NOT notified.
Cortex.set_value!(s_source, 6)</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(s_non_listener) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(s_source)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="449pt" height="322pt"
 viewBox="0.00 0.00 449.00 322.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 318)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-318 445,-318 445,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="441,-314 263,-314 263,-149 441,-149 441,-314"/>
<polygon fill="none" stroke="black" points="263,-288.5 263,-313.5 441,-313.5 441,-288.5 263,-288.5"/>
<text text-anchor="start" x="268" y="-298.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="341" y="-298.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="263,-221.5 263,-288.5 441,-288.5 441,-221.5 263,-221.5"/>
<text text-anchor="start" x="270" y="-270.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422" y="-270.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">6 </text>
<text text-anchor="start" x="270" y="-251.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270" y="-232.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263,-196.5 263,-221.5 441,-221.5 441,-196.5 263,-196.5"/>
<text text-anchor="start" x="268" y="-205.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
<polygon fill="none" stroke="black" points="263,-148.5 263,-196.5 441,-196.5 441,-148.5 263,-148.5"/>
<text text-anchor="start" x="270" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 1 (not listening)</text>
<text text-anchor="start" x="270" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; listener 2 </text>
</g>
<!-- mainlistener1 -->
<g id="node2" class="node">
<title>mainlistener1</title>
<polygon fill="white" stroke="transparent" points="196.5,-252 30.5,-252 30.5,-135 196.5,-135 196.5,-252"/>
<polygon fill="none" stroke="black" points="30.5,-226.5 30.5,-251.5 196.5,-251.5 196.5,-226.5 30.5,-226.5"/>
<text text-anchor="start" x="35.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="88.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="30.5,-159.5 30.5,-226.5 196.5,-226.5 196.5,-159.5 30.5,-159.5"/>
<text text-anchor="start" x="37.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="37.5" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="37.5" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="30.5,-134.5 30.5,-159.5 196.5,-159.5 196.5,-134.5 30.5,-134.5"/>
<text text-anchor="start" x="35.5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener1 -->
<g id="edge1" class="edge">
<title>main:listener1&%2345;&gt;mainlistener1:header</title>
<path fill="none" stroke="%23666666" stroke-dasharray="1,5" d="M267,-181.5C230.54,-181.5 236.13,-229.13 207.55,-238.07"/>
<polygon fill="%23666666" stroke="%23666666" points="206.91,-234.62 197.5,-239.5 207.89,-241.55 206.91,-234.62"/>
</g>
<!-- mainlistener2 -->
<g id="node3" class="node">
<title>mainlistener2</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="227,-117 0,-117 0,0 227,0 227,-117"/>
<polygon fill="none" stroke="black" points="0.5,-91.5 0.5,-116.5 227.5,-116.5 227.5,-91.5 0.5,-91.5"/>
<text text-anchor="start" x="5.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Listener</text>
<text text-anchor="start" x="58.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-24.5 0.5,-91.5 227.5,-91.5 227.5,-24.5 0.5,-24.5"/>
<text text-anchor="start" x="7.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="159.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7.5" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,0.5 0.5,-24.5 227.5,-24.5 227.5,0.5 0.5,0.5"/>
<text text-anchor="start" x="5.5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 dependencies</text>
</g>
<!-- main&%2345;&gt;mainlistener2 -->
<g id="edge2" class="edge">
<title>main:listener2&%2345;&gt;mainlistener2:header</title>
<path fill="none" stroke="black" d="M267,-162.5C239.85,-162.5 253.25,-118.88 236.87,-107.3"/>
<polygon fill="black" stroke="black" points="237.58,-103.86 227,-104.5 235.67,-110.59 237.58,-103.86"/>
</g>
</g>
</svg>
'/><h2 id="signal-computing-values"><a class="docs-heading-anchor" href="#signal-computing-values">Computing Signal Values</a><a id="signal-computing-values-1"></a><a class="docs-heading-anchor-permalink" href="#signal-computing-values" title="Permalink"></a></h2><p>We demonstrated how can we set a signal&#39;s value manually with <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a>. Cortex provides a more structured and safer way to compute a signal&#39;s value with the <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a> function. The <code>compute!</code> function takes a strategy (often a simple function) to calculate the new value based on dependencies. Computing a signal typically clears its pending state.</p><pre><code class="language-julia hljs">signal_1 = Cortex.Signal(1)
signal_2 = Cortex.Signal(41)

signal_to_be_computed = Cortex.Signal()

Cortex.add_dependency!(signal_to_be_computed, signal_1)
Cortex.add_dependency!(signal_to_be_computed, signal_2)

Cortex.is_pending(signal_to_be_computed) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(signal_to_be_computed)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="456pt" height="297pt"
 viewBox="0.00 0.00 456.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 452,-293 452,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightblue" stroke="transparent" stroke-width="2" points="227,-289 0,-289 0,-124 227,-124 227,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 227.5,-288.5 227.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 227.5,-263.5 227.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a value</text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> (pending)</text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 227.5,-196.5 227.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 227.5,-148.5 227.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="444.5,-252 266.5,-252 266.5,-135 444.5,-135 444.5,-252"/>
<polygon fill="none" stroke="black" points="266.5,-226.5 266.5,-251.5 444.5,-251.5 444.5,-226.5 266.5,-226.5"/>
<text text-anchor="start" x="271.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="352.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="356.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="266.5,-159.5 266.5,-226.5 444.5,-226.5 444.5,-159.5 266.5,-159.5"/>
<text text-anchor="start" x="273.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="425.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="273.5" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="273.5" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="266.5,-134.5 266.5,-159.5 444.5,-159.5 444.5,-134.5 266.5,-134.5"/>
<text text-anchor="start" x="271.5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="%231874cd" d="M265.5,-239.5C237.9,-239.5 250.52,-195.88 233.6,-184.3"/>
<polygon fill="%231874cd" stroke="%231874cd" points="234.07,-180.8 223.5,-181.5 232.2,-187.54 234.07,-180.8"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="448,-117 263,-117 263,0 448,0 448,-117"/>
<polygon fill="none" stroke="black" points="263.5,-91.5 263.5,-116.5 448.5,-116.5 448.5,-91.5 263.5,-91.5"/>
<text text-anchor="start" x="268.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="349.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="353.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="263.5,-24.5 263.5,-91.5 448.5,-91.5 448.5,-24.5 263.5,-24.5"/>
<text text-anchor="start" x="270.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="422.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">41 </text>
<text text-anchor="start" x="270.5" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="270.5" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="263.5,0.5 263.5,-24.5 448.5,-24.5 448.5,0.5 263.5,0.5"/>
<text text-anchor="start" x="268.5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="%231874cd" d="M263,-104.5C235.95,-104.5 249.57,-148.12 233.32,-159.7"/>
<polygon fill="%231874cd" stroke="%231874cd" points="232.16,-156.39 223.5,-162.5 234.08,-163.13 232.16,-156.39"/>
</g>
</g>
</svg>
'/><pre><code class="language-julia hljs"># Define a strategy (a function) to compute the value
compute_sum = (signal, deps) -&gt; sum(Cortex.get_value, deps)

# Apply the strategy using compute!
Cortex.compute!(compute_sum, signal_to_be_computed)</code></pre><pre><code class="language-julia hljs">Cortex.get_value(signal_to_be_computed) # 42</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">42</code></pre><pre><code class="language-julia hljs">Cortex.is_pending(signal_to_be_computed) # false</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><pre><code class="language-julia hljs">GraphViz.load(signal_to_be_computed)</code></pre><img src='data:image/svg+xml;utf-8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: G Pages: 1 -->
<svg width="414pt" height="297pt"
 viewBox="0.00 0.00 414.00 297.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-293 410,-293 410,4 -4,4"/>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="185,-289 0,-289 0,-124 185,-124 185,-289"/>
<polygon fill="none" stroke="black" points="0.5,-263.5 0.5,-288.5 185.5,-288.5 185.5,-263.5 0.5,-263.5"/>
<text text-anchor="start" x="5.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">MainSignal</text>
<text text-anchor="start" x="78.5" y="-273.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<polygon fill="none" stroke="black" points="0.5,-196.5 0.5,-263.5 185.5,-263.5 185.5,-196.5 0.5,-196.5"/>
<text text-anchor="start" x="7.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="159.5" y="-245.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">42 </text>
<text text-anchor="start" x="7.5" y="-226.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="7.5" y="-207.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="0.5,-148.5 0.5,-196.5 185.5,-196.5 185.5,-148.5 0.5,-148.5"/>
<text text-anchor="start" x="7.5" y="-178.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 1</text>
<text text-anchor="start" x="7.5" y="-159.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">&%2345; dependency 2</text>
<polygon fill="none" stroke="black" points="0.5,-123.5 0.5,-148.5 185.5,-148.5 185.5,-123.5 0.5,-123.5"/>
<text text-anchor="start" x="5.5" y="-132.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No listeners</text>
</g>
<!-- maindep1 -->
<g id="node2" class="node">
<title>maindep1</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="402.5,-252 224.5,-252 224.5,-135 402.5,-135 402.5,-252"/>
<polygon fill="none" stroke="black" points="224.5,-226.5 224.5,-251.5 402.5,-251.5 402.5,-226.5 224.5,-226.5"/>
<text text-anchor="start" x="229.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="310.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="314.5" y="-236.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="224.5,-159.5 224.5,-226.5 402.5,-226.5 402.5,-159.5 224.5,-159.5"/>
<text text-anchor="start" x="231.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="383.5" y="-208.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">1 </text>
<text text-anchor="start" x="231.5" y="-189.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="231.5" y="-170.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="224.5,-134.5 224.5,-159.5 402.5,-159.5 402.5,-134.5 224.5,-134.5"/>
<text text-anchor="start" x="229.5" y="-143.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep1&%2345;&gt;main -->
<g id="edge1" class="edge">
<title>maindep1:header&%2345;&gt;main:dep1</title>
<path fill="none" stroke="black" d="M223.5,-239.5C195.9,-239.5 208.52,-195.88 191.6,-184.3"/>
<polygon fill="black" stroke="black" points="192.07,-180.8 181.5,-181.5 190.2,-187.54 192.07,-180.8"/>
</g>
<!-- maindep2 -->
<g id="node3" class="node">
<title>maindep2</title>
<polygon fill="lightyellow" stroke="transparent" stroke-width="2" points="406,-117 221,-117 221,0 406,0 406,-117"/>
<polygon fill="none" stroke="black" points="221.5,-91.5 221.5,-116.5 406.5,-116.5 406.5,-91.5 221.5,-91.5"/>
<text text-anchor="start" x="226.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-weight="bold" font-size="14.00">Dependency</text>
<text text-anchor="start" x="307.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00"> </text>
<text text-anchor="start" x="311.5" y="-101.3" font-family="Helvetica,Arial,sans-serif" font-size="8.00" fill="gray">Depth: 1</text>
<polygon fill="none" stroke="black" points="221.5,-24.5 221.5,-91.5 406.5,-91.5 406.5,-24.5 221.5,-24.5"/>
<text text-anchor="start" x="228.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Current value: </text>
<text text-anchor="start" x="380.5" y="-73.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">41 </text>
<text text-anchor="start" x="228.5" y="-54.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have metadata</text>
<text text-anchor="start" x="228.5" y="-35.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Does not have a type</text>
<polygon fill="none" stroke="black" points="221.5,0.5 221.5,-24.5 406.5,-24.5 406.5,0.5 221.5,0.5"/>
<text text-anchor="start" x="226.5" y="-8.3" font-family="Helvetica,Arial,sans-serif" font-size="14.00">No dependencies</text>
</g>
<!-- maindep2&%2345;&gt;main -->
<g id="edge2" class="edge">
<title>maindep2:header&%2345;&gt;main:dep2</title>
<path fill="none" stroke="black" d="M221,-104.5C193.95,-104.5 207.57,-148.12 191.32,-159.7"/>
<polygon fill="black" stroke="black" points="190.16,-156.39 181.5,-162.5 192.08,-163.13 190.16,-156.39"/>
</g>
</g>
</svg>
'/><div class="admonition is-info" id="Note-4278292e78773ba0"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-4278292e78773ba0" title="Permalink"></a></header><div class="admonition-body"><p>By default, <code>compute!</code> throws an <code>ArgumentError</code> if called on a signal that is not pending (<a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending</code></a> returns <code>false</code>). You can override this check using the <code>force=true</code> keyword argument.</p><pre><code class="language-julia hljs"># This would normally throw an error:
# compute!(compute_sum, signal_to_be_computed)

# But we can force it:
Cortex.compute!(compute_sum, signal_to_be_computed; force=true)

Cortex.get_value(signal_to_be_computed) # 42</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">42</code></pre></div></div><h3 id="Custom-Compute-Strategies"><a class="docs-heading-anchor" href="#Custom-Compute-Strategies">Custom Compute Strategies</a><a id="Custom-Compute-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Compute-Strategies" title="Permalink"></a></h3><p>You can define custom types and methods to implement more complex computation logic beyond simple functions. This allows strategies to hold their own state or parameters.</p><p>First, define a struct for your strategy:</p><pre><code class="language-julia hljs">struct CustomStrategy
    multiplier::Int
end</code></pre><p>Then, implement the <a href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, Vector{Cortex.Signal}}"><code>compute_value!</code></a> method for your strategy type:</p><pre><code class="language-julia hljs">function Cortex.compute_value!(strategy::CustomStrategy, signal::Cortex.Signal, dependencies)
    # Example: Use signal&#39;s metadata if available
    meta = Cortex.get_metadata(signal)
    base_sum = sum(Cortex.get_value, dependencies)
    offset = meta isa Dict &amp;&amp; haskey(meta, :offset) ? meta[:offset] : 0
    return strategy.multiplier * base_sum + offset
end</code></pre><p>Now, you can use this strategy with your signals:</p><pre><code class="language-julia hljs">strategy = CustomStrategy(2)

signal_with_meta = Cortex.Signal(metadata=Dict(:offset =&gt; 10))

Cortex.add_dependency!(signal_with_meta, signal_1)
Cortex.add_dependency!(signal_with_meta, signal_2)

Cortex.compute!(strategy, signal_with_meta)

Cortex.get_value(signal_with_meta) # 94</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">94</code></pre><pre><code class="language-julia hljs">Cortex.compute!(CustomStrategy(3), signal_with_meta; force=true)

Cortex.get_value(signal_with_meta) # 136</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">136</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.compute!-Tuple{Any, Cortex.Signal}" href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>Cortex.compute!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute!(s::Signal, strategy; force::Bool = false, skip_if_no_listeners::Bool = true)</code></pre><p>Compute the value of the signal <code>s</code> using the given <code>strategy</code>.  The strategy must implement <a href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, Vector{Cortex.Signal}}"><code>compute_value!</code></a> method. If the strategy is a function, it is assumed to be a function that takes the signal and a vector of signal&#39;s dependencies as arguments and returns a value. Be sure to call <code>compute!</code> only on signals that are pending.  Calling <code>compute!</code> on a non-pending signal will result in an error.</p><p>When <code>skip_if_no_listeners</code> is set to <code>true</code>, the function will not compute the signal if it has no listeners. If <code>skip_if_no_listeners</code> is set to <code>false</code>, the function will compute the signal even if it has no listeners. This is useful for signals that are computed on demand with no listeners.</p><p>Keyword Arguments:</p><ul><li><code>force::Bool = false</code>: If <code>true</code>, the signal will be computed even if it is not pending.</li><li><code>skip_if_no_listeners::Bool = true</code>: If <code>true</code>, the function will not compute the signal if it has no listeners.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L351-L368">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.compute_value!-Tuple{Any, Cortex.Signal, Vector{Cortex.Signal}}" href="#Cortex.compute_value!-Tuple{Any, Cortex.Signal, Vector{Cortex.Signal}}"><code>Cortex.compute_value!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_value!(strategy, signal, dependencies)</code></pre><p>Compute the value of the signal <code>signal</code> using the given <code>strategy</code>. The strategy must implement this method. See also <a href="#Cortex.compute!-Tuple{Any, Cortex.Signal}"><code>compute!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L389-L394">source</a></section></article><h2 id="Processing/Traversal-of-Dependencies"><a class="docs-heading-anchor" href="#Processing/Traversal-of-Dependencies">Processing/Traversal of Dependencies</a><a id="Processing/Traversal-of-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Processing/Traversal-of-Dependencies" title="Permalink"></a></h2><p>The <code>process_dependencies!</code> function provides a powerful way to traverse and operate on the dependency graph of a signal. It&#39;s particularly useful for scenarios where you need more control over how dependencies are evaluated or when implementing custom update schedulers.</p><p>The function recursively applies a user-defined function <code>f</code> to each dependency. <code>f</code> should return <code>true</code> if it considers the dependency &quot;processed&quot; by its own logic, and <code>false</code> otherwise. <code>process_dependencies!</code> propagates this status and can optionally retry processing an intermediate dependency if its own sub-dependencies were processed.</p><p><strong>Use Cases:</strong></p><ul><li>Implementing custom evaluation orders for signals.</li><li>Performing actions on dependencies before computing a parent signal.</li><li>Debugging or inspecting the state of a signal&#39;s dependency graph.</li></ul><p><strong>Conceptual Example:</strong></p><p>Imagine you want to traverse the dependency graph of a signal and you want to log which ones were already computed and which ones are not.</p><pre><code class="language-julia hljs">signal1 = Cortex.Signal(1; metadata = :signal1) # computed
signal2 = Cortex.Signal(; metadata = :signal2)  # not computed
signal3 = Cortex.Signal(3; metadata = :signal3)  # computed

intermediate_signal = Cortex.Signal(metadata = :intermediate_signal)

Cortex.add_dependency!(intermediate_signal, signal2)
Cortex.add_dependency!(intermediate_signal, signal3)

derived = Cortex.Signal(metadata = :derived)

Cortex.add_dependency!(derived, signal1)
Cortex.add_dependency!(derived, intermediate_signal; intermediate=true)

function my_processing_function(dependency_signal::Cortex.Signal)
    if !Cortex.is_computed(dependency_signal)
        println(&quot;The dependency signal: &quot;, Cortex.get_metadata(dependency_signal), &quot; is not computed&quot;)
    else
        println(&quot;The dependency signal: &quot;, Cortex.get_metadata(dependency_signal), &quot; is computed. The value is: &quot;, Cortex.get_value(dependency_signal))
    end
    # always return false to process all the dependencies
    return false
end

Cortex.process_dependencies!(my_processing_function, derived)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">The dependency signal: signal1 is computed. The value is: 1
The dependency signal: intermediate_signal is not computed
The dependency signal: signal2 is not computed
The dependency signal: signal3 is computed. The value is: 3</code></pre><p>Let&#39;s see if that actually the case by visualizing the dependency graph:</p><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="abaeda85.svg" alt="Example block output"/><p>This example illustrates how you can inject custom logic into the dependency traversal. The actual computation or state change would happen within <code>my_processing_function</code>. For example, here how can we <code>compute!</code> the signal if it is not computed:</p><pre><code class="language-julia hljs">signal1 = Cortex.Signal(1; metadata = :signal1)
signal2 = Cortex.Signal(2; metadata = :signal2)
signal3 = Cortex.Signal(3; metadata = :signal3)

intermediate_signal = Cortex.Signal(metadata = :intermediate_signal)

Cortex.add_dependency!(intermediate_signal, signal2)
Cortex.add_dependency!(intermediate_signal, signal3)

derived = Cortex.Signal(metadata = :derived)

Cortex.add_dependency!(derived, signal1)
Cortex.add_dependency!(derived, intermediate_signal; intermediate=true)

function compute_if_not_computed(signal::Cortex.Signal)
    if Cortex.is_pending(signal)
        println(&quot;Computing the signal: &quot;, Cortex.get_metadata(signal))
        Cortex.compute!((signal, deps) -&gt; sum(Cortex.get_value, deps), signal)
        return true
    end
    return false
end

Cortex.process_dependencies!(compute_if_not_computed, derived; retry = true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Computing the signal: intermediate_signal</code></pre><p>Now, since we processed and computed all the dependencies, the derived signal should be in the pending state:</p><pre><code class="language-julia hljs">Cortex.is_pending(derived) # true</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="09f88e1e.svg" alt="Example block output"/><p>Which we can also compute using the same function:</p><pre><code class="language-julia hljs">compute_if_not_computed(derived)

Cortex.get_value(derived) # 6</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6</code></pre><pre><code class="language-julia hljs">GraphViz.load(derived)</code></pre><img src="fd56ebef.svg" alt="Example block output"/><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}" href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>Cortex.process_dependencies!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_dependencies!(f::F, signal::Signal; retry::Bool = false) where {F}</code></pre><p>Recursively processes the dependencies of a <code>signal</code> using a provided function <code>f</code>.</p><p>The function <code>f</code> is applied to each direct dependency of <code>signal</code>. If a dependency is marked as <code>intermediate</code>  and <code>f</code> returns <code>false</code> for it (indicating it was not processed by <code>f</code> according to its own criteria),  <code>process_dependencies!</code> will then be called recursively on that intermediate dependency.</p><p>Arguments:</p><ul><li><code>f::F</code>: A function (or callable object) that takes a <code>Signal</code> (a dependency) as an argument and returns a <code>Bool</code>.  It should return <code>true</code> if it considered the dependency processed, and <code>false</code> otherwise. The specific logic  for this determination (e.g., checking if a dependency is pending before processing) is up to <code>f</code>.</li><li><code>signal::Signal</code>: The signal whose dependencies are to be processed.</li></ul><p>Keyword Arguments:</p><ul><li><code>retry::Bool = false</code>: If <code>true</code>, and an intermediate dependency&#39;s own sub-dependencies were processed  (i.e., the recursive call to <code>process_dependencies!</code> for the intermediate dependency returned <code>true</code>  because <code>f</code> returned <code>true</code> for at least one sub-dependency), then the function <code>f</code> will be called  again on the intermediate dependency itself. This allows for a second attempt by <code>f</code> to process the  intermediate dependency after its own prerequisites might have been met by processing its sub-dependencies.</li></ul><p>Returns:</p><ul><li><code>Bool</code>: <code>true</code> if the function <code>f</code> returned <code>true</code> for at least one dependency encountered (either directly  or recursively through an intermediate one). Returns <code>false</code> if <code>f</code> returned <code>false</code> for all dependencies  it was applied to.</li></ul><p>Behavior Details:</p><ul><li>For each dependency of <code>signal</code>:<ol><li><code>f(dependency)</code> is called.</li><li>If <code>f(dependency)</code> returns <code>true</code>, this dependency is considered processed by <code>f</code>.</li><li>If <code>f(dependency)</code> returns <code>false</code> AND the dependency is marked as <code>intermediate</code>:  a. <code>process_dependencies!(f, dependency; retry=retry)</code> is called recursively.  b. If this recursive call returns <code>true</code> (meaning <code>f</code> processed at least one sub-dependency of the      intermediate one) AND <code>retry</code> is <code>true</code>, then <code>f(dependency)</code> is called again.</li></ol></li><li>The function tracks whether <code>f</code> returned <code>true</code> for any dependency it was applied to, at any level of  recursion (for intermediate dependencies) or direct application, and returns this aggregated result.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/Cortex.jl/blob/6b423de6a96f156eeb4b72738680920d9932a8dc/src/signal.jl#L405-L442">source</a></section></article><h2 id="signals-visualization"><a class="docs-heading-anchor" href="#signals-visualization">Signal Visualization</a><a id="signals-visualization-1"></a><a class="docs-heading-anchor-permalink" href="#signals-visualization" title="Permalink"></a></h2><p>The <code>Cortex.jl</code> package provides a function to visualize the dependency graph of a signal. This function becomes available when the <code>GraphViz.jl</code> package is installed in your environment. When visualized, the signal is represented as a node, as well as its dependencies and listeners. The colors of the nodes depend on their state. The connections between the nodes depend on the type of the dependency. To demonstrate this, let&#39;s consider the following example:</p><pre><code class="language-julia hljs">using GraphViz # enables visualization

# The main signal to visualize
s = Cortex.Signal()

# Direct dependencies of `s`
dep1 = Cortex.Signal()
dep2 = Cortex.Signal()

Cortex.add_dependency!(s, dep1; intermediate = true, weak = true)
Cortex.add_dependency!(s, dep2; weak = true)

# Dependencies of `dep1`
dep1_for_dep1 = Cortex.Signal(3)
dep1_for_dep2 = Cortex.Signal(4)

Cortex.add_dependency!(dep1, dep1_for_dep1)
Cortex.add_dependency!(dep1, dep1_for_dep2; intermediate = true, weak = true)

# Dependencies of `dep2`
dep1_for_dep2 = Cortex.Signal()
Cortex.add_dependency!(dep2, dep1_for_dep2)

# Deep dependency of `dep1_for_dep2`
dep_for_dep1_for_dep2 = Cortex.Signal()
Cortex.add_dependency!(dep1_for_dep2, dep_for_dep1_for_dep2)

# Listeners of `s`
listener1_of_s = Cortex.Signal()
listener2_of_s = Cortex.Signal()

Cortex.add_dependency!(listener1_of_s, s)
Cortex.add_dependency!(listener2_of_s, s; listen = false)

# Listeners of `dep1`, but it won&#39;t be displayed for `s`
listener1_of_dep1 = Cortex.Signal()

Cortex.add_dependency!(listener1_of_dep1, dep1)

GraphViz.load(s)</code></pre><img src="c358822f.svg" alt="Example block output"/><div class="admonition is-category-unknown" id="Documentation-for-GraphViz.jl-extension-3036cb83c282564e"><header class="admonition-header">Documentation for GraphViz.jl extension<a class="admonition-anchor" href="#Documentation-for-GraphViz.jl-extension-3036cb83c282564e" title="Permalink"></a></header><div class="admonition-body"><pre><code class="nohighlight hljs">GraphViz.load(s::Signal; 
    max_depth::Int = 2,
    max_dependencies::Int = 10,
    max_listeners::Int = 10,
    type_to_string_fn = Cortex.InferenceSignalTypes.to_string,
    show_value::Bool = true,
    show_metadata::Bool = true,
    show_type::Bool = true,
    show_listeners::Bool = true
) -&gt; GraphViz.Graph</code></pre><p>Creates a GraphViz visualization of a Signal and its dependency graph.</p><p>The visualization includes:</p><ul><li>The signal&#39;s value, metadata, and type (if present)</li><li>Dependencies and their relationships</li><li>Listeners and their states</li><li>Visual indicators for pending, computed, and intermediate states</li></ul><h1>Arguments</h1><ul><li><code>s::Signal</code>: The signal to visualize</li></ul><h1>Keyword Arguments</h1><ul><li><code>max_depth::Int = 2</code>: Maximum depth of the dependency tree to display</li><li><code>max_dependencies::Int = 10</code>: Maximum number of dependencies to show per signal</li><li><code>max_listeners::Int = 10</code>: Maximum number of listeners to show per signal</li><li><code>type_to_string_fn = Cortex.InferenceSignalTypes.to_string</code>: Function to convert signal type to string</li><li><code>show_value::Bool = true</code>: Whether to display signal values</li><li><code>show_metadata::Bool = true</code>: Whether to display signal metadata</li><li><code>show_type::Bool = true</code>: Whether to display signal types</li><li><code>show_listeners::Bool = true</code>: Whether to display signal listeners</li></ul><h1>Visual Styling</h1><ul><li><p>Nodes use different colors and styles to indicate their state:</p><ul><li>Computed nodes: Light yellow background with bold text</li><li>Pending nodes: Light blue background with bold text</li><li>Regular nodes: White background</li></ul></li><li><p>Edges have different styles based on dependency properties:</p><ul><li>Weak dependencies: Dashed lines</li><li>Intermediate dependencies: Gray color</li><li>Fresh dependencies: Blue color</li><li>Fresh and intermediate: Cadet blue color</li></ul></li><li><p>Listener edges:</p><ul><li>Active listeners: Solid black lines</li><li>Inactive listeners: Dotted gray lines</li></ul></li></ul><h1>Returns</h1><p>A <code>GraphViz.Graph</code> object representing the signal&#39;s dependency graph.</p></div></div><h2 id="Internal-Mechanics-(For-Developers)"><a class="docs-heading-anchor" href="#Internal-Mechanics-(For-Developers)">Internal Mechanics (For Developers)</a><a id="Internal-Mechanics-(For-Developers)-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Mechanics-(For-Developers)" title="Permalink"></a></h2><div class="admonition is-warning" id="Advanced-Topic-c07d8ab609b3d9a6"><header class="admonition-header">Advanced Topic<a class="admonition-anchor" href="#Advanced-Topic-c07d8ab609b3d9a6" title="Permalink"></a></header><div class="admonition-body"><p>The details in this section are primarily for developers working on or extending Cortex.jl&#39;s core reactivity. Regular users do not typically need to interact with these internal components directly.</p></div></div><p>The efficient tracking of dependency states (intermediate, weak, computed, and fresh) is managed internally by a structure associated with each signal, <code>SignalDependenciesProps</code>.</p><h3 id="SignalDependenciesProps:-Packed-Dependency-Information"><a class="docs-heading-anchor" href="#SignalDependenciesProps:-Packed-Dependency-Information"><code>SignalDependenciesProps</code>: Packed Dependency Information</a><a id="SignalDependenciesProps:-Packed-Dependency-Information-1"></a><a class="docs-heading-anchor-permalink" href="#SignalDependenciesProps:-Packed-Dependency-Information" title="Permalink"></a></h3><p>To minimize overhead, the properties for each dependency are bit-packed into 4-bit &quot;nibbles&quot; within <code>UInt64</code> chunks. This allows a single <code>UInt64</code> to hold status information for 16 dependencies. The bits are assigned as follows (from LSB to MSB):</p><ul><li><strong>Bit 1 (<code>0x1</code>): <code>IsIntermediate</code></strong>: True if the dependency is an intermediate one for processing logic (see <a href="#Cortex.process_dependencies!-Tuple{Any, Cortex.Signal}"><code>process_dependencies!</code></a>).</li><li><strong>Bit 2 (<code>0x2</code>): <code>IsWeak</code></strong>: True if the dependency is weak.</li><li><strong>Bit 3 (<code>0x4</code>): <code>IsComputed</code></strong>: True if the dependency itself holds a computed value.</li><li><strong>Bit 4 (<code>0x8</code>): <code>IsFresh</code></strong>: True if the dependency has provided a new value that has not yet been consumed by the current signal&#39;s computation.</li></ul><h3 id="Determining-Pending-State"><a class="docs-heading-anchor" href="#Determining-Pending-State">Determining Pending State</a><a id="Determining-Pending-State-1"></a><a class="docs-heading-anchor-permalink" href="#Determining-Pending-State" title="Permalink"></a></h3><p>The <a href="#Cortex.is_pending-Tuple{Cortex.Signal}"><code>is_pending(signal)</code></a> function relies on an internal check (currently <code>is_meeting_pending_criteria</code>) that operates on these packed properties. A signal is considered to meet the criteria to become pending if, for <strong>every</strong> one of its dependencies:</p><p><code>(IsComputed AND (IsWeak OR IsFresh))</code></p><p>This means:</p><ul><li>A <strong>weak</strong> dependency must simply be <code>IsComputed</code>.</li><li>A <strong>strong</strong> (non-weak) dependency must be <code>IsComputed</code> AND <code>IsFresh</code>.</li></ul><p>When <a href="#Cortex.set_value!-Tuple{Cortex.Signal, Any}"><code>set_value!</code></a> is called on a signal:</p><ol><li>The <code>IsFresh</code> flags for all its own dependencies are cleared (as their values have now been &quot;used&quot;).</li><li>For each of its listeners, the original signal (which just got a new value) is marked as <code>IsComputed</code> and <code>IsFresh</code> in that listener&#39;s dependency properties. This, in turn, can cause the listener to become pending.</li></ol><p>This bit-packed approach allows for efficient batch updates and checks across many dependencies.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../model_backend/">Model Backend: The Foundation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 20 May 2025 15:54">Tuesday 20 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
